/*
 wysihtml5 v0.3.0
 https://github.com/xing/wysihtml5

 Author: Christopher Blum (https://github.com/tiff)

 Copyright (C) 2012 XING AG
 Licensed under the MIT license (MIT)

 Rangy, a cross-browser JavaScript range and selection library
 http://code.google.com/p/rangy/

 Copyright 2011, Tim Down
 Licensed under the MIT license.
 Version: 1.2.2
 Build date: 13 November 2011
*/
var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};
window.rangy=function(){function b(a,b){var c=typeof a[b];return c==k||!!(c==h&&a[b])||"unknown"==c}function c(a,b){return!!(typeof a[b]==h&&a[b])}function a(a,b){return typeof a[b]!=j}function d(a){return function(b,c){for(var d=c.length;d--;)if(!a(b,c[d]))return!1;return!0}}function e(a){return a&&m(a,r)&&x(a,q)}function f(a){window.alert("Rangy not supported in your browser. Reason: "+a);o.initialized=!0;o.supported=!1}function g(){if(!o.initialized){var a,d=!1,h=!1;b(document,"createRange")&&
(a=document.createRange(),m(a,p)&&x(a,n)&&(d=!0),a.detach());if((a=c(document,"body")?document.body:document.getElementsByTagName("body")[0])&&b(a,"createTextRange"))a=a.createTextRange(),e(a)&&(h=!0);!d&&!h&&f("Neither Range nor TextRange are implemented");o.initialized=!0;o.features={implementsDomRange:d,implementsTextRange:h};d=w.concat(z);h=0;for(a=d.length;h<a;++h)try{d[h](o)}catch(j){c(window,"console")&&b(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",
j)}}}function i(a){this.name=a;this.supported=this.initialized=!1}var h="object",k="function",j="undefined",n="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer START_TO_START START_TO_END END_TO_START END_TO_END".split(" "),p="setStart setStartBefore setStartAfter setEnd setEndBefore setEndAfter collapse selectNode selectNodeContents compareBoundaryPoints deleteContents extractContents cloneContents insertNode surroundContents cloneRange toString detach".split(" "),
q="boundingHeight boundingLeft boundingTop boundingWidth htmlText text".split(" "),r="collapse compareEndPoints duplicate getBookmark moveToBookmark moveToElementText parentElement pasteHTML select setEndPoint getBoundingClientRect".split(" "),m=d(b),s=d(c),x=d(a),o={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:b,isHostObject:c,isHostProperty:a,areHostMethods:m,areHostObjects:s,areHostProperties:x,isTextRange:e},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};
o.fail=f;o.warn=function(a){a="Rangy warning: "+a;o.config.alertOnWarn?window.alert(a):typeof window.console!=j&&typeof window.console.log!=j&&window.console.log(a)};({}).hasOwnProperty?o.util.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}:f("hasOwnProperty not supported");var z=[],w=[];o.init=g;o.addInitListener=function(a){o.initialized?a(o):z.push(a)};var y=[];o.addCreateMissingNativeApiListener=function(a){y.push(a)};o.createMissingNativeApi=function(a){a=a||window;g();
for(var b=0,c=y.length;b<c;++b)y[b](a)};i.prototype.fail=function(a){this.initialized=!0;this.supported=!1;throw Error("Module '"+this.name+"' failed to load: "+a);};i.prototype.warn=function(a){o.warn("Module "+this.name+": "+a)};i.prototype.createError=function(a){return Error("Error in Rangy "+this.name+" module: "+a)};o.createModule=function(a,b){var c=new i(a);o.modules[a]=c;w.push(function(a){b(a,c);c.initialized=!0;c.supported=!0})};o.requireModules=function(a){for(var b=0,c=a.length,d,h;b<
c;++b){h=a[b];d=o.modules[h];if(!d||!(d instanceof i))throw Error("Module '"+h+"' not found");if(!d.supported)throw Error("Module '"+h+"' not supported");}};var A=!1,s=function(){A||(A=!0,o.initialized||g())};if(typeof window==j)f("No window found");else if(typeof document==j)f("No document found");else return b(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",s,!1),b(window,"addEventListener")?window.addEventListener("load",s,!1):b(window,"attachEvent")?window.attachEvent("onload",
s):f("Window does not have required addEventListener or attachEvent method"),o}();
rangy.createModule("DomUtil",function(b,c){function a(a){for(var b=0;a=a.previousSibling;)b++;return b}function d(a,b){var c=[],d;for(d=a;d;d=d.parentNode)c.push(d);for(d=b;d;d=d.parentNode)if(m(c,d))return d;return null}function e(a,b,c){for(c=c?a:a.parentNode;c;){a=c.parentNode;if(a===b)return c;c=a}return null}function f(a){a=a.nodeType;return 3==a||4==a||8==a}function g(a,b){var c=b.nextSibling,d=b.parentNode;c?d.insertBefore(a,c):d.appendChild(a);return a}function i(a){if(9==a.nodeType)return a;
if(typeof a.ownerDocument!=p)return a.ownerDocument;if(typeof a.document!=p)return a.document;if(a.parentNode)return i(a.parentNode);throw Error("getDocument: no document found for node");}function h(a){return!a?"[No node]":f(a)?'"'+a.data+'"':1==a.nodeType?"<"+a.nodeName+(a.id?' id="'+a.id+'"':"")+">["+a.childNodes.length+"]":a.nodeName}function k(a){this._next=this.root=a}function j(a,b){this.node=a;this.offset=b}function n(a){this.code=this[a];this.codeName=a;this.message="DOMException: "+this.codeName}
var p="undefined",q=b.util;q.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||c.fail("document missing a Node creation method");q.isHostMethod(document,"getElementsByTagName")||c.fail("document missing getElementsByTagName method");var r=document.createElement("div");q.areHostMethods(r,["insertBefore","appendChild","cloneNode"])||c.fail("Incomplete Element implementation");q.isHostProperty(r,"innerHTML")||c.fail("Element is missing innerHTML property");r=document.createTextNode("test");
q.areHostMethods(r,["splitText","deleteData","insertData","appendData","cloneNode"])||c.fail("Incomplete Text Node implementation");var m=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1};k.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next,b;if(this._current){b=a.firstChild;if(!b)for(b=null;a!==this.root&&!(b=a.nextSibling);)a=a.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=
null}};j.prototype={equals:function(a){return this.node===a.node&this.offset==a.offset},inspect:function(){return"[DomPosition("+h(this.node)+":"+this.offset+")]"}};n.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11};n.prototype.toString=function(){return this.message};b.dom={arrayContains:m,isHtmlNamespace:function(a){var b;return typeof a.namespaceURI==p||null===(b=a.namespaceURI)||"http://www.w3.org/1999/xhtml"==
b},parentElement:function(a){a=a.parentNode;return 1==a.nodeType?a:null},getNodeIndex:a,getNodeLength:function(a){var b;return f(a)?a.length:(b=a.childNodes)?b.length:0},getCommonAncestor:d,isAncestorOf:function(a,b,c){for(b=c?b:b.parentNode;b;){if(b===a)return!0;b=b.parentNode}return!1},getClosestAncestorIn:e,isCharacterDataNode:f,insertAfter:g,splitDataNode:function(a,b){var c=a.cloneNode(!1);c.deleteData(0,b);a.deleteData(b,a.length-b);g(c,a);return c},getDocument:i,getWindow:function(a){a=i(a);
if(typeof a.defaultView!=p)return a.defaultView;if(typeof a.parentWindow!=p)return a.parentWindow;throw Error("Cannot get a window object for node");},getIframeWindow:function(a){if(typeof a.contentWindow!=p)return a.contentWindow;if(typeof a.contentDocument!=p)return a.contentDocument.defaultView;throw Error("getIframeWindow: No Window object found for iframe element");},getIframeDocument:function(a){if(typeof a.contentDocument!=p)return a.contentDocument;if(typeof a.contentWindow!=p)return a.contentWindow.document;
throw Error("getIframeWindow: No Document object found for iframe element");},getBody:function(a){return q.isHostObject(a,"body")?a.body:a.getElementsByTagName("body")[0]},getRootContainer:function(a){for(var b;b=a.parentNode;)a=b;return a},comparePoints:function(b,c,h,j){var k;if(b==h)return c===j?0:c<j?-1:1;if(k=e(h,b,!0))return c<=a(k)?-1:1;if(k=e(b,h,!0))return a(k)<j?-1:1;c=d(b,h);b=b===c?c:e(b,c,!0);h=h===c?c:e(h,c,!0);if(b===h)throw Error("comparePoints got to case 4 and childA and childB are the same!");
for(c=c.firstChild;c;){if(c===b)return-1;if(c===h)return 1;c=c.nextSibling}throw Error("Should not be here!");},inspectNode:h,fragmentFromNodeChildren:function(a){for(var b=i(a).createDocumentFragment(),c;c=a.firstChild;)b.appendChild(c);return b},createIterator:function(a){return new k(a)},DomPosition:j};b.DOMException=n});
rangy.createModule("DomRange",function(b){function c(a,b){return 3!=a.nodeType&&(l.isAncestorOf(a,b.startContainer,!0)||l.isAncestorOf(a,b.endContainer,!0))}function a(a){return l.getDocument(a.startContainer)}function d(a,b,c){if(b=a._listeners[b])for(var d=0,h=b.length;d<h;++d)b[d].call(a,{target:a,args:c})}function e(a){return new u(a.parentNode,l.getNodeIndex(a))}function f(a){return new u(a.parentNode,l.getNodeIndex(a)+1)}function g(a,b,c){var d=11==a.nodeType?a.firstChild:a;l.isCharacterDataNode(b)?
c==b.length?l.insertAfter(a,b):b.parentNode.insertBefore(a,0==c?b:l.splitDataNode(b,c)):c>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[c]);return d}function i(b){for(var c,d,h=a(b.range).createDocumentFragment();d=b.next();){c=b.isPartiallySelectedSubtree();d=d.cloneNode(!c);c&&(c=b.getSubtreeIterator(),d.appendChild(i(c)),c.detach(!0));if(10==d.nodeType)throw new B("HIERARCHY_REQUEST_ERR");h.appendChild(d)}return h}function h(a,b,c){for(var d,e,c=c||{stop:!1};d=a.next();)if(a.isPartiallySelectedSubtree())if(!1===
b(d)){c.stop=!0;break}else{if(d=a.getSubtreeIterator(),h(d,b,c),d.detach(!0),c.stop)break}else for(d=l.createIterator(d);e=d.next();)if(!1===b(e)){c.stop=!0;return}}function k(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),k(b),b.detach(!0)):a.remove()}function j(b){for(var c,d=a(b.range).createDocumentFragment(),h;c=b.next();){b.isPartiallySelectedSubtree()?(c=c.cloneNode(!1),h=b.getSubtreeIterator(),c.appendChild(j(h)),h.detach(!0)):b.remove();if(10==c.nodeType)throw new B("HIERARCHY_REQUEST_ERR");
d.appendChild(c)}return d}function n(a,b,c){var d=!(!b||!b.length),e,j=!!c;d&&(e=RegExp("^("+b.join("|")+")$"));var k=[];h(new q(a,!1),function(a){(!d||e.test(a.nodeType))&&(!j||c(a))&&k.push(a)});return k}function p(a){return"["+("undefined"==typeof a.getName?"Range":a.getName())+"("+l.inspectNode(a.startContainer)+":"+a.startOffset+", "+l.inspectNode(a.endContainer)+":"+a.endOffset+")]"}function q(a,b){this.range=a;this.clonePartiallySelectedTextNodes=b;if(!a.collapsed){this.sc=a.startContainer;
this.so=a.startOffset;this.ec=a.endContainer;this.eo=a.endOffset;var c=a.commonAncestorContainer;this.sc===this.ec&&l.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc===c&&!l.isCharacterDataNode(this.sc)?this.sc.childNodes[this.so]:l.getClosestAncestorIn(this.sc,c,!0),this._last=this.ec===c&&!l.isCharacterDataNode(this.ec)?this.ec.childNodes[this.eo-1]:l.getClosestAncestorIn(this.ec,c,!0))}}function r(a){this.code=
this[a];this.codeName=a;this.message="RangeException: "+this.codeName}function m(a,b,c){this.nodes=n(a,b,c);this._next=this.nodes[0];this._position=0}function s(a){return function(b,c){for(var d,h=c?b:b.parentNode;h;){d=h.nodeType;if(l.arrayContains(a,d))return h;h=h.parentNode}return null}}function x(a,b){if($(a,b))throw new r("INVALID_NODE_TYPE_ERR");}function o(a){if(!a.startContainer)throw new B("INVALID_STATE_ERR");}function z(a,b){if(!l.arrayContains(b,a.nodeType))throw new r("INVALID_NODE_TYPE_ERR");
}function w(a,b){if(0>b||b>(l.isCharacterDataNode(a)?a.length:a.childNodes.length))throw new B("INDEX_SIZE_ERR");}function y(a,b){if(O(a,!0)!==O(b,!0))throw new B("WRONG_DOCUMENT_ERR");}function A(a){if(aa(a,!0))throw new B("NO_MODIFICATION_ALLOWED_ERR");}function t(a,b){if(!a)throw new B(b);}function v(a){o(a);if(!l.arrayContains(G,a.startContainer.nodeType)&&!O(a.startContainer,!0)||!l.arrayContains(G,a.endContainer.nodeType)&&!O(a.endContainer,!0)||!(a.startOffset<=(l.isCharacterDataNode(a.startContainer)?
a.startContainer.length:a.startContainer.childNodes.length))||!(a.endOffset<=(l.isCharacterDataNode(a.endContainer)?a.endContainer.length:a.endContainer.childNodes.length)))throw Error("Range error: Range is no longer valid after DOM mutation ("+a.inspect()+")");}function D(){}function K(a){a.START_TO_START=Q;a.START_TO_END=U;a.END_TO_END=ba;a.END_TO_START=V;a.NODE_BEFORE=W;a.NODE_AFTER=X;a.NODE_BEFORE_AND_AFTER=Y;a.NODE_INSIDE=R}function F(a){K(a);K(a.prototype)}function E(a,b){return function(){v(this);
var c=this.startContainer,d=this.startOffset,e=this.commonAncestorContainer,j=new q(this,!0);c!==e&&(c=l.getClosestAncestorIn(c,e,!0),d=f(c),c=d.node,d=d.offset);h(j,A);j.reset();e=a(j);j.detach();b(this,c,d,c,d);return e}}function I(a,d,h){function g(a,b){return function(c){o(this);z(c,L);z(M(c),G);c=(a?e:f)(c);(b?i:n)(this,c.node,c.offset)}}function i(a,b,c){var h=a.endContainer,e=a.endOffset;if(b!==a.startContainer||c!==a.startOffset){if(M(b)!=M(h)||1==l.comparePoints(b,c,h,e))h=b,e=c;d(a,b,c,
h,e)}}function n(a,b,c){var h=a.startContainer,e=a.startOffset;if(b!==a.endContainer||c!==a.endOffset){if(M(b)!=M(h)||-1==l.comparePoints(b,c,h,e))h=b,e=c;d(a,h,e,b,c)}}a.prototype=new D;b.util.extend(a.prototype,{setStart:function(a,b){o(this);x(a,!0);w(a,b);i(this,a,b)},setEnd:function(a,b){o(this);x(a,!0);w(a,b);n(this,a,b)},setStartBefore:g(!0,!0),setStartAfter:g(!1,!0),setEndBefore:g(!0,!1),setEndAfter:g(!1,!1),collapse:function(a){v(this);a?d(this,this.startContainer,this.startOffset,this.startContainer,
this.startOffset):d(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(a){o(this);x(a,!0);d(this,a,0,a,l.getNodeLength(a))},selectNode:function(a){o(this);x(a,!1);z(a,L);var b=e(a),a=f(a);d(this,b.node,b.offset,a.node,a.offset)},extractContents:E(j,d),deleteContents:E(k,d),canSurroundContents:function(){v(this);A(this.startContainer);A(this.endContainer);var a=new q(this,!0),b=a._first&&c(a._first,this)||a._last&&c(a._last,this);a.detach();return!b},
detach:function(){h(this)},splitBoundaries:function(){v(this);var a=this.startContainer,b=this.startOffset,c=this.endContainer,h=this.endOffset,e=a===c;l.isCharacterDataNode(c)&&(0<h&&h<c.length)&&l.splitDataNode(c,h);l.isCharacterDataNode(a)&&(0<b&&b<a.length)&&(a=l.splitDataNode(a,b),e?(h-=b,c=a):c==a.parentNode&&h>=l.getNodeIndex(a)&&h++,b=0);d(this,a,b,c,h)},normalizeBoundaries:function(){v(this);var a=this.startContainer,b=this.startOffset,c=this.endContainer,h=this.endOffset,e=function(a){var b=
a.nextSibling;b&&b.nodeType==a.nodeType&&(c=a,h=a.length,a.appendData(b.data),b.parentNode.removeChild(b))},j=function(d){var e=d.previousSibling;if(e&&e.nodeType==d.nodeType){a=d;var j=d.length;b=e.length;d.insertData(0,e.data);e.parentNode.removeChild(e);a==c?(h+=b,c=a):c==d.parentNode&&(e=l.getNodeIndex(d),h==e?(c=d,h=j):h>e&&h--)}},k=!0;l.isCharacterDataNode(c)?c.length==h&&e(c):(0<h&&(k=c.childNodes[h-1])&&l.isCharacterDataNode(k)&&e(k),k=!this.collapsed);k?l.isCharacterDataNode(a)?0==b&&j(a):
b<a.childNodes.length&&(e=a.childNodes[b])&&l.isCharacterDataNode(e)&&j(e):(a=c,b=h);d(this,a,b,c,h)},collapseToPoint:function(a,b){o(this);x(a,!0);w(a,b);(a!==this.startContainer||b!==this.startOffset||a!==this.endContainer||b!==this.endOffset)&&d(this,a,b,a,b)}});F(a)}function N(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset;a.commonAncestorContainer=a.collapsed?a.startContainer:l.getCommonAncestor(a.startContainer,a.endContainer)}function J(a,b,c,h,e){var j=a.startContainer!==
b||a.startOffset!==c,k=a.endContainer!==h||a.endOffset!==e;a.startContainer=b;a.startOffset=c;a.endContainer=h;a.endOffset=e;N(a);d(a,"boundarychange",{startMoved:j,endMoved:k})}function C(a){this.startContainer=a;this.startOffset=0;this.endContainer=a;this.endOffset=0;this._listeners={boundarychange:[],detach:[]};N(this)}b.requireModules(["DomUtil"]);var l=b.dom,u=l.DomPosition,B=b.DOMException;q.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=
null;this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;a&&(this._next=a!==this._last?a.nextSibling:null,l.isCharacterDataNode(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so)));return a},remove:function(){var a=this._current,b,c;l.isCharacterDataNode(a)&&(a===this.sc||a===this.ec)?(b=a===this.sc?this.so:0,c=a===
this.ec?this.eo:a.length,b!=c&&a.deleteData(b,c-b)):a.parentNode&&a.parentNode.removeChild(a)},isPartiallySelectedSubtree:function(){return c(this._current,this.range)},getSubtreeIterator:function(){var b;if(this.isSingleCharacterDataNode)b=this.range.cloneRange(),b.collapse();else{b=new C(a(this.range));var c=this._current,d=c,h=0,e=c,j=l.getNodeLength(c);l.isAncestorOf(c,this.sc,!0)&&(d=this.sc,h=this.so);l.isAncestorOf(c,this.ec,!0)&&(e=this.ec,j=this.eo);J(b,d,h,e,j)}return new q(b,this.clonePartiallySelectedTextNodes)},
detach:function(a){a&&this.range.detach();this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};r.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2};r.prototype.toString=function(){return this.message};m.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){this._current=this._next;this._next=this.nodes[++this._position];return this._current},detach:function(){this._current=this._next=this.nodes=null}};var L=[1,3,4,5,
7,8,10],G=[2,9,11],P=[1,3,4,5,7,8,10,11],H=[1,3,4,5,7,8],M=l.getRootContainer,O=s([9,11]),aa=s([5,6,10,12]),$=s([6,10,12]),Z=document.createElement("style"),S=!1;try{Z.innerHTML="<b>x</b>",S=3==Z.firstChild.nodeType}catch(ca){}b.features.htmlParsingConforms=S;var T="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" "),Q=0,U=1,ba=2,V=3,W=0,X=1,Y=2,R=3;D.prototype={attachListener:function(a,b){this._listeners[a].push(b)},compareBoundaryPoints:function(a,b){v(this);
y(this.startContainer,b.startContainer);var c=a==V||a==Q?"start":"end",d=a==U||a==Q?"start":"end";return l.comparePoints(this[c+"Container"],this[c+"Offset"],b[d+"Container"],b[d+"Offset"])},insertNode:function(a){v(this);z(a,P);A(this.startContainer);if(l.isAncestorOf(a,this.startContainer,!0))throw new B("HIERARCHY_REQUEST_ERR");this.setStartBefore(g(a,this.startContainer,this.startOffset))},cloneContents:function(){v(this);var b,c;if(this.collapsed)return a(this).createDocumentFragment();if(this.startContainer===
this.endContainer&&l.isCharacterDataNode(this.startContainer))return b=this.startContainer.cloneNode(!0),b.data=b.data.slice(this.startOffset,this.endOffset),c=a(this).createDocumentFragment(),c.appendChild(b),c;c=new q(this,!0);b=i(c);c.detach();return b},canSurroundContents:function(){v(this);A(this.startContainer);A(this.endContainer);var a=new q(this,!0),b=a._first&&c(a._first,this)||a._last&&c(a._last,this);a.detach();return!b},surroundContents:function(a){z(a,H);if(!this.canSurroundContents())throw new r("BAD_BOUNDARYPOINTS_ERR");
var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);g(a,this.startContainer,this.startOffset);a.appendChild(b);this.selectNode(a)},cloneRange:function(){v(this);for(var b=new C(a(this)),c=T.length,d;c--;)d=T[c],b[d]=this[d];return b},toString:function(){v(this);var a=this.startContainer;if(a===this.endContainer&&l.isCharacterDataNode(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):"";var b=[],a=new q(this,!0);h(a,function(a){(3==
a.nodeType||4==a.nodeType)&&b.push(a.data)});a.detach();return b.join("")},compareNode:function(a){v(this);var b=a.parentNode,c=l.getNodeIndex(a);if(!b)throw new B("NOT_FOUND_ERR");a=this.comparePoint(b,c);b=this.comparePoint(b,c+1);return 0>a?0<b?Y:W:0<b?X:R},comparePoint:function(a,b){v(this);t(a,"HIERARCHY_REQUEST_ERR");y(a,this.startContainer);return 0>l.comparePoints(a,b,this.startContainer,this.startOffset)?-1:0<l.comparePoints(a,b,this.endContainer,this.endOffset)?1:0},createContextualFragment:S?
function(a){var b=this.startContainer,c=l.getDocument(b);if(!b)throw new B("INVALID_STATE_ERR");var d=null;1==b.nodeType?d=b:l.isCharacterDataNode(b)&&(d=l.parentElement(b));d=null===d||"HTML"==d.nodeName&&l.isHtmlNamespace(l.getDocument(d).documentElement)&&l.isHtmlNamespace(d)?c.createElement("body"):d.cloneNode(!1);d.innerHTML=a;return l.fragmentFromNodeChildren(d)}:function(b){o(this);var c=a(this).createElement("body");c.innerHTML=b;return l.fragmentFromNodeChildren(c)},toHtml:function(){v(this);
var b=a(this).createElement("div");b.appendChild(this.cloneContents());return b.innerHTML},intersectsNode:function(b,c){v(this);t(b,"NOT_FOUND_ERR");if(l.getDocument(b)!==a(this))return!1;var d=b.parentNode,h=l.getNodeIndex(b);t(d,"NOT_FOUND_ERR");var e=l.comparePoints(d,h,this.endContainer,this.endOffset),d=l.comparePoints(d,h+1,this.startContainer,this.startOffset);return c?0>=e&&0<=d:0>e&&0<d},isPointInRange:function(a,b){v(this);t(a,"HIERARCHY_REQUEST_ERR");y(a,this.startContainer);return 0<=
l.comparePoints(a,b,this.startContainer,this.startOffset)&&0>=l.comparePoints(a,b,this.endContainer,this.endOffset)},intersectsRange:function(b,c){v(this);if(a(b)!=a(this))throw new B("WRONG_DOCUMENT_ERR");var d=l.comparePoints(this.startContainer,this.startOffset,b.endContainer,b.endOffset),h=l.comparePoints(this.endContainer,this.endOffset,b.startContainer,b.startOffset);return c?0>=d&&0<=h:0>d&&0<h},intersection:function(a){if(this.intersectsRange(a)){var b=l.comparePoints(this.startContainer,
this.startOffset,a.startContainer,a.startOffset),c=l.comparePoints(this.endContainer,this.endOffset,a.endContainer,a.endOffset),d=this.cloneRange();-1==b&&d.setStart(a.startContainer,a.startOffset);1==c&&d.setEnd(a.endContainer,a.endOffset);return d}return null},union:function(a){if(this.intersectsRange(a,!0)){var b=this.cloneRange();-1==l.comparePoints(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset);1==l.comparePoints(a.endContainer,
a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset);return b}throw new r("Ranges do not intersect");},containsNode:function(a,b){return b?this.intersectsNode(a,!1):this.compareNode(a)==R},containsNodeContents:function(a){return 0<=this.comparePoint(a,0)&&0>=this.comparePoint(a,l.getNodeLength(a))},containsRange:function(a){return this.intersection(a).equals(a)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var c=b.getNodes([3]);return 0<c.length?
(b.setStart(c[0],0),a=c.pop(),b.setEnd(a,a.length),a=this.containsRange(b),b.detach(),a):this.containsNodeContents(a)},createNodeIterator:function(a,b){v(this);return new m(this,a,b)},getNodes:function(a,b){v(this);return n(this,a,b)},getDocument:function(){return a(this)},collapseBefore:function(a){o(this);this.setEndBefore(a);this.collapse(!1)},collapseAfter:function(a){o(this);this.setStartAfter(a);this.collapse(!0)},getName:function(){return"DomRange"},equals:function(a){return C.rangesEqual(this,
a)},inspect:function(){return p(this)}};I(C,J,function(a){o(a);a.startContainer=a.startOffset=a.endContainer=a.endOffset=null;a.collapsed=a.commonAncestorContainer=null;d(a,"detach",null);a._listeners=null});b.rangePrototype=D.prototype;C.rangeProperties=T;C.RangeIterator=q;C.copyComparisonConstants=F;C.createPrototypeRange=I;C.inspect=p;C.getRangeDocument=a;C.rangesEqual=function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===
b.endOffset};b.DomRange=C;b.RangeException=r});
rangy.createModule("WrappedRange",function(b){function c(a,b,c,d){var g=a.duplicate();g.collapse(c);var i=g.parentElement();e.isAncestorOf(b,i,!0)||(i=b);if(!i.canHaveHTML)return new f(i.parentNode,e.getNodeIndex(i));var b=e.getDocument(i).createElement("span"),r,m=c?"StartToStart":"StartToEnd";do i.insertBefore(b,b.previousSibling),g.moveToElementText(b);while(0<(r=g.compareEndPoints(m,a))&&b.previousSibling);m=b.nextSibling;if(-1==r&&m&&e.isCharacterDataNode(m)){g.setEndPoint(c?"EndToStart":"EndToEnd",
a);if(/[\r\n]/.test(m.data)){i=g.duplicate();c=i.text.replace(/\r\n/g,"\r").length;for(c=i.moveStart("character",c);-1==i.compareEndPoints("StartToEnd",i);)c++,i.moveStart("character",1)}else c=g.text.length;i=new f(m,c)}else m=(d||!c)&&b.previousSibling,i=(c=(d||c)&&b.nextSibling)&&e.isCharacterDataNode(c)?new f(c,0):m&&e.isCharacterDataNode(m)?new f(m,m.length):new f(i,e.getNodeIndex(b));b.parentNode.removeChild(b);return i}function a(a,b){var c,d,f=a.offset,g=e.getDocument(a.node),i=g.body.createTextRange(),
m=e.isCharacterDataNode(a.node);m?(c=a.node,d=c.parentNode):(c=a.node.childNodes,c=f<c.length?c[f]:null,d=a.node);g=g.createElement("span");g.innerHTML="&#feff;";c?d.insertBefore(g,c):d.appendChild(g);i.moveToElementText(g);i.collapse(!b);d.removeChild(g);if(m)i[b?"moveStart":"moveEnd"]("character",f);return i}b.requireModules(["DomUtil","DomRange"]);var d,e=b.dom,f=e.DomPosition,g=b.DomRange;if(b.features.implementsDomRange&&(!b.features.implementsTextRange||!b.config.preferTextRange))(function(){function a(b){for(var c=
j.length,d;c--;)d=j[c],b[d]=b.nativeRange[d]}var c,j=g.rangeProperties,f;d=function(b){if(!b)throw Error("Range must be specified");this.nativeRange=b;a(this)};g.createPrototypeRange(d,function(a,b,c,d,h){var e=a.endContainer!==d||a.endOffset!=h;if(a.startContainer!==b||a.startOffset!=c||e)a.setEnd(d,h),a.setStart(b,c)},function(a){a.nativeRange.detach();a.detached=!0;for(var b=j.length,c;b--;)c=j[b],a[c]=null});c=d.prototype;c.selectNode=function(b){this.nativeRange.selectNode(b);a(this)};c.deleteContents=
function(){this.nativeRange.deleteContents();a(this)};c.extractContents=function(){var b=this.nativeRange.extractContents();a(this);return b};c.cloneContents=function(){return this.nativeRange.cloneContents()};c.surroundContents=function(b){this.nativeRange.surroundContents(b);a(this)};c.collapse=function(b){this.nativeRange.collapse(b);a(this)};c.cloneRange=function(){return new d(this.nativeRange.cloneRange())};c.refresh=function(){a(this)};c.toString=function(){return this.nativeRange.toString()};
var i=document.createTextNode("test");e.getBody(document).appendChild(i);var q=document.createRange();q.setStart(i,0);q.setEnd(i,0);try{q.setStart(i,1),c.setStart=function(b,c){this.nativeRange.setStart(b,c);a(this)},c.setEnd=function(b,c){this.nativeRange.setEnd(b,c);a(this)},f=function(b){return function(c){this.nativeRange[b](c);a(this)}}}catch(r){c.setStart=function(b,c){try{this.nativeRange.setStart(b,c)}catch(d){this.nativeRange.setEnd(b,c),this.nativeRange.setStart(b,c)}a(this)},c.setEnd=function(b,
c){try{this.nativeRange.setEnd(b,c)}catch(d){this.nativeRange.setStart(b,c),this.nativeRange.setEnd(b,c)}a(this)},f=function(b,c){return function(d){try{this.nativeRange[b](d)}catch(e){this.nativeRange[c](d),this.nativeRange[b](d)}a(this)}}}c.setStartBefore=f("setStartBefore","setEndBefore");c.setStartAfter=f("setStartAfter","setEndAfter");c.setEndBefore=f("setEndBefore","setStartBefore");c.setEndAfter=f("setEndAfter","setStartAfter");q.selectNodeContents(i);c.selectNodeContents=q.startContainer==
i&&q.endContainer==i&&0==q.startOffset&&q.endOffset==i.length?function(b){this.nativeRange.selectNodeContents(b);a(this)}:function(a){this.setStart(a,0);this.setEnd(a,g.getEndOffset(a))};q.selectNodeContents(i);q.setEnd(i,3);f=document.createRange();f.selectNodeContents(i);f.setEnd(i,4);f.setStart(i,2);c.compareBoundaryPoints=-1==q.compareBoundaryPoints(q.START_TO_END,f)&1==q.compareBoundaryPoints(q.END_TO_START,f)?function(a,b){b=b.nativeRange||b;a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&
(a=b.START_TO_END);return this.nativeRange.compareBoundaryPoints(a,b)}:function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)};b.util.isHostMethod(q,"createContextualFragment")&&(c.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)});e.getBody(document).removeChild(i);q.detach();f.detach()})(),b.createNativeRange=function(a){a=a||document;return a.createRange()};else if(b.features.implementsTextRange){d=function(a){this.textRange=a;this.refresh()};
d.prototype=new g(document);d.prototype.refresh=function(){var a,b,d=this.textRange;a=d.parentElement();var f=d.duplicate();f.collapse(!0);b=f.parentElement();f=d.duplicate();f.collapse(!1);d=f.parentElement();b=b==d?b:e.getCommonAncestor(b,d);b=b==a?b:e.getCommonAncestor(a,b);0==this.textRange.compareEndPoints("StartToEnd",this.textRange)?b=a=c(this.textRange,b,!0,!0):(a=c(this.textRange,b,!0,!1),b=c(this.textRange,b,!1,!1));this.setStart(a.node,a.offset);this.setEnd(b.node,b.offset)};g.copyComparisonConstants(d);
var i=function(){return this}();"undefined"==typeof i.Range&&(i.Range=d);b.createNativeRange=function(a){a=a||document;return a.body.createTextRange()}}b.features.implementsTextRange&&(d.rangeToTextRange=function(b){if(b.collapsed)return a(new f(b.startContainer,b.startOffset),!0);var c=a(new f(b.startContainer,b.startOffset),!0),d=a(new f(b.endContainer,b.endOffset),!1),b=e.getDocument(b.startContainer).body.createTextRange();b.setEndPoint("StartToStart",c);b.setEndPoint("EndToEnd",d);return b});
d.prototype.getName=function(){return"WrappedRange"};b.WrappedRange=d;b.createRange=function(a){a=a||document;return new d(b.createNativeRange(a))};b.createRangyRange=function(a){a=a||document;return new g(a)};b.createIframeRange=function(a){return b.createRange(e.getIframeDocument(a))};b.createIframeRangyRange=function(a){return b.createRangyRange(e.getIframeDocument(a))};b.addCreateMissingNativeApiListener(function(a){a=a.document;if(typeof a.createRange=="undefined")a.createRange=function(){return b.createRange(this)};
a=a=null})});
rangy.createModule("WrappedSelection",function(b,c){function a(a){return(a||window).getSelection()}function d(a){return(a||window).document.selection}function e(a,b,c){var d=c?"end":"start",c=c?"start":"end";a.anchorNode=b[d+"Container"];a.anchorOffset=b[d+"Offset"];a.focusNode=b[c+"Container"];a.focusOffset=b[c+"Offset"]}function f(a){a.anchorNode=a.focusNode=null;a.anchorOffset=a.focusOffset=0;a.rangeCount=0;a.isCollapsed=!0;a._ranges.length=0}function g(a){var c;a instanceof x?(c=a._selectionNativeRange,
c||(c=b.createNativeRange(m.getDocument(a.startContainer)),c.setEnd(a.endContainer,a.endOffset),c.setStart(a.startContainer,a.startOffset),a._selectionNativeRange=c,a.attachListener("detach",function(){this._selectionNativeRange=null}))):a instanceof o?c=a.nativeRange:b.features.implementsDomRange&&a instanceof m.getWindow(a.startContainer).Range&&(c=a);return c}function i(a){var b=a.getNodes(),c;a:if(!b.length||1!=b[0].nodeType)c=!1;else{c=1;for(var d=b.length;c<d;++c)if(!m.isAncestorOf(b[0],b[c])){c=
!1;break a}c=!0}if(!c)throw Error("getSingleElementFromRange: range "+a.inspect()+" did not consist of a single element");return b[0]}function h(a,b){var c=new o(b);a._ranges=[c];e(a,c,!1);a.rangeCount=1;a.isCollapsed=c.collapsed}function k(a){a._ranges.length=0;if("None"==a.docSelection.type)f(a);else{var c=a.docSelection.createRange();if(c&&"undefined"!=typeof c.text)h(a,c);else{a.rangeCount=c.length;for(var d,j=m.getDocument(c.item(0)),k=0;k<a.rangeCount;++k)d=b.createRange(j),d.selectNode(c.item(k)),
a._ranges.push(d);a.isCollapsed=1==a.rangeCount&&a._ranges[0].collapsed;e(a,a._ranges[a.rangeCount-1],!1)}}}function j(a,b){for(var c=a.docSelection.createRange(),d=i(b),e=m.getDocument(c.item(0)),e=m.getBody(e).createControlRange(),h=0,j=c.length;h<j;++h)e.add(c.item(h));try{e.add(d)}catch(f){throw Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)");}e.select();k(a)}function n(a,b,c){this.nativeSelection=a;this.docSelection=b;this._ranges=
[];this.win=c;this.refresh()}function p(a,b){for(var c=m.getDocument(b[0].startContainer),c=m.getBody(c).createControlRange(),d=0,e;d<rangeCount;++d){e=i(b[d]);try{c.add(e)}catch(h){throw Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)");}}c.select();k(a)}function q(a,b){if(a.anchorNode&&m.getDocument(a.anchorNode)!==m.getDocument(b))throw new z("WRONG_DOCUMENT_ERR");}function r(a){var b=[],c=new w(a.anchorNode,a.anchorOffset),
d=new w(a.focusNode,a.focusOffset),e="function"==typeof a.getName?a.getName():"Selection";if("undefined"!=typeof a.rangeCount)for(var h=0,j=a.rangeCount;h<j;++h)b[h]=x.inspect(a.getRangeAt(h));return"["+e+"(Ranges: "+b.join(", ")+")(anchor: "+c.inspect()+", focus: "+d.inspect()+"]"}b.requireModules(["DomUtil","DomRange","WrappedRange"]);b.config.checkSelectionRanges=!0;var m=b.dom,s=b.util,x=b.DomRange,o=b.WrappedRange,z=b.DOMException,w=m.DomPosition,y,A,t=b.util.isHostMethod(window,"getSelection"),
v=b.util.isHostObject(document,"selection"),D=v&&(!t||b.config.preferTextRange);D?(y=d,b.isSelectionValid=function(a){var a=(a||window).document,b=a.selection;return"None"!=b.type||m.getDocument(b.createRange().parentElement())==a}):t?(y=a,b.isSelectionValid=function(){return!0}):c.fail("Neither document.selection or window.getSelection() detected.");b.getNativeSelection=y;var t=y(),K=b.createNativeRange(document),F=m.getBody(document),E=s.areHostObjects(t,s.areHostProperties(t,["anchorOffset","focusOffset"]));
b.features.selectionHasAnchorAndFocus=E;var I=s.isHostMethod(t,"extend");b.features.selectionHasExtend=I;var N="number"==typeof t.rangeCount;b.features.selectionHasRangeCount=N;var J=!1,C=!0;s.areHostMethods(t,["addRange","getRangeAt","removeAllRanges"])&&("number"==typeof t.rangeCount&&b.features.implementsDomRange)&&function(){var a=document.createElement("iframe");F.appendChild(a);var b=m.getIframeDocument(a);b.open();b.write("<html><head></head><body>12</body></html>");b.close();var c=m.getIframeWindow(a).getSelection(),
d=b.documentElement.lastChild.firstChild,b=b.createRange();b.setStart(d,1);b.collapse(true);c.addRange(b);C=c.rangeCount==1;c.removeAllRanges();var e=b.cloneRange();b.setStart(d,0);e.setEnd(d,2);c.addRange(b);c.addRange(e);J=c.rangeCount==2;b.detach();e.detach();F.removeChild(a)}();b.features.selectionSupportsMultipleRanges=J;b.features.collapsedNonEditableSelectionsSupported=C;var l=!1,u;F&&s.isHostMethod(F,"createControlRange")&&(u=F.createControlRange(),s.areHostProperties(u,["item","add"])&&(l=
!0));b.features.implementsControlRange=l;A=E?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===a.focusOffset}:function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:false};var B;s.isHostMethod(t,"getRangeAt")?B=function(a,b){try{return a.getRangeAt(b)}catch(c){return null}}:E&&(B=function(a){var c=m.getDocument(a.anchorNode),c=b.createRange(c);c.setStart(a.anchorNode,a.anchorOffset);c.setEnd(a.focusNode,a.focusOffset);if(c.collapsed!==this.isCollapsed){c.setStart(a.focusNode,
a.focusOffset);c.setEnd(a.anchorNode,a.anchorOffset)}return c});b.getSelection=function(a){var a=a||window,b=a._rangySelection,c=y(a),e=v?d(a):null;if(b){b.nativeSelection=c;b.docSelection=e;b.refresh(a)}else{b=new n(c,e,a);a._rangySelection=b}return b};b.getIframeSelection=function(a){return b.getSelection(m.getIframeWindow(a))};u=n.prototype;if(!D&&E&&s.areHostMethods(t,["removeAllRanges","addRange"])){u.removeAllRanges=function(){this.nativeSelection.removeAllRanges();f(this)};var L=function(a,
c){var d=x.getRangeDocument(c),d=b.createRange(d);d.collapseToPoint(c.endContainer,c.endOffset);a.nativeSelection.addRange(g(d));a.nativeSelection.extend(c.startContainer,c.startOffset);a.refresh()};u.addRange=N?function(a,c){if(l&&v&&this.docSelection.type=="Control")j(this,a);else if(c&&I)L(this,a);else{var d;if(J)d=this.rangeCount;else{this.removeAllRanges();d=0}this.nativeSelection.addRange(g(a));this.rangeCount=this.nativeSelection.rangeCount;if(this.rangeCount==d+1){if(b.config.checkSelectionRanges)(d=
B(this.nativeSelection,this.rangeCount-1))&&!x.rangesEqual(d,a)&&(a=new o(d));this._ranges[this.rangeCount-1]=a;e(this,a,H(this.nativeSelection));this.isCollapsed=A(this)}else this.refresh()}}:function(a,b){if(b&&I)L(this,a);else{this.nativeSelection.addRange(g(a));this.refresh()}};u.setRanges=function(a){if(l&&a.length>1)p(this,a);else{this.removeAllRanges();for(var b=0,c=a.length;b<c;++b)this.addRange(a[b])}}}else if(s.isHostMethod(t,"empty")&&s.isHostMethod(K,"select")&&l&&D)u.removeAllRanges=
function(){try{this.docSelection.empty();if(this.docSelection.type!="None"){var a;if(this.anchorNode)a=m.getDocument(this.anchorNode);else if(this.docSelection.type=="Control"){var b=this.docSelection.createRange();b.length&&(a=m.getDocument(b.item(0)).body.createTextRange())}if(a){a.body.createTextRange().select();this.docSelection.empty()}}}catch(c){}f(this)},u.addRange=function(a){if(this.docSelection.type=="Control")j(this,a);else{o.rangeToTextRange(a).select();this._ranges[0]=a;this.rangeCount=
1;this.isCollapsed=this._ranges[0].collapsed;e(this,a,false)}},u.setRanges=function(a){this.removeAllRanges();var b=a.length;b>1?p(this,a):b&&this.addRange(a[0])};else return c.fail("No means of selecting a Range or TextRange was found"),!1;u.getRangeAt=function(a){if(a<0||a>=this.rangeCount)throw new z("INDEX_SIZE_ERR");return this._ranges[a]};var G;if(D)G=function(a){var c;if(b.isSelectionValid(a.win))c=a.docSelection.createRange();else{c=m.getBody(a.win.document).createTextRange();c.collapse(true)}a.docSelection.type==
"Control"?k(a):c&&typeof c.text!="undefined"?h(a,c):f(a)};else if(s.isHostMethod(t,"getRangeAt")&&"number"==typeof t.rangeCount)G=function(a){if(l&&v&&a.docSelection.type=="Control")k(a);else{a._ranges.length=a.rangeCount=a.nativeSelection.rangeCount;if(a.rangeCount){for(var c=0,d=a.rangeCount;c<d;++c)a._ranges[c]=new b.WrappedRange(a.nativeSelection.getRangeAt(c));e(a,a._ranges[a.rangeCount-1],H(a.nativeSelection));a.isCollapsed=A(a)}else f(a)}};else if(E&&"boolean"==typeof t.isCollapsed&&"boolean"==
typeof K.collapsed&&b.features.implementsDomRange)G=function(a){var b;b=a.nativeSelection;if(b.anchorNode){b=B(b,0);a._ranges=[b];a.rangeCount=1;b=a.nativeSelection;a.anchorNode=b.anchorNode;a.anchorOffset=b.anchorOffset;a.focusNode=b.focusNode;a.focusOffset=b.focusOffset;a.isCollapsed=A(a)}else f(a)};else return c.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;u.refresh=function(a){var b=a?this._ranges.slice(0):null;G(this);if(a){a=b.length;if(a!=this._ranges.length)return false;
for(;a--;)if(!x.rangesEqual(b[a],this._ranges[a]))return false;return true}};var P=function(a,b){var c=a.getAllRanges(),d=false;a.removeAllRanges();for(var e=0,h=c.length;e<h;++e)d||b!==c[e]?a.addRange(c[e]):d=true;a.rangeCount||f(a)};u.removeRange=l?function(a){if(this.docSelection.type=="Control"){for(var b=this.docSelection.createRange(),a=i(a),c=m.getDocument(b.item(0)),c=m.getBody(c).createControlRange(),d,e=false,h=0,j=b.length;h<j;++h){d=b.item(h);d!==a||e?c.add(b.item(h)):e=true}c.select();
k(this)}else P(this,a)}:function(a){P(this,a)};var H;!D&&E&&b.features.implementsDomRange?(H=function(a){var b=false;a.anchorNode&&(b=m.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)==1);return b},u.isBackwards=function(){return H(this)}):H=u.isBackwards=function(){return false};u.toString=function(){for(var a=[],b=0,c=this.rangeCount;b<c;++b)a[b]=""+this._ranges[b];return a.join("")};u.collapse=function(a,c){q(this,a);var d=b.createRange(m.getDocument(a));d.collapseToPoint(a,
c);this.removeAllRanges();this.addRange(d);this.isCollapsed=true};u.collapseToStart=function(){if(this.rangeCount){var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)}else throw new z("INVALID_STATE_ERR");};u.collapseToEnd=function(){if(this.rangeCount){var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)}else throw new z("INVALID_STATE_ERR");};u.selectAllChildren=function(a){q(this,a);var c=b.createRange(m.getDocument(a));c.selectNodeContents(a);this.removeAllRanges();
this.addRange(c)};u.deleteFromDocument=function(){if(l&&v&&this.docSelection.type=="Control"){for(var a=this.docSelection.createRange(),b;a.length;){b=a.item(0);a.remove(b);b.parentNode.removeChild(b)}this.refresh()}else if(this.rangeCount){a=this.getAllRanges();this.removeAllRanges();b=0;for(var c=a.length;b<c;++b)a[b].deleteContents();this.addRange(a[c-1])}};u.getAllRanges=function(){return this._ranges.slice(0)};u.setSingleRange=function(a){this.setRanges([a])};u.containsNode=function(a,b){for(var c=
0,d=this._ranges.length;c<d;++c)if(this._ranges[c].containsNode(a,b))return true;return false};u.toHtml=function(){var a="";if(this.rangeCount){for(var a=x.getRangeDocument(this._ranges[0]).createElement("div"),b=0,c=this._ranges.length;b<c;++b)a.appendChild(this._ranges[b].cloneContents());a=a.innerHTML}return a};u.getName=function(){return"WrappedSelection"};u.inspect=function(){return r(this)};u.detach=function(){this.win=this.anchorNode=this.focusNode=this.win._rangySelection=null};n.inspect=
r;b.Selection=n;b.selectionPrototype=u;b.addCreateMissingNativeApiListener(function(a){if(typeof a.getSelection=="undefined")a.getSelection=function(){return b.getSelection(this)};a=null})});var Base=function(){};
Base.extend=function(b,c){var a=Base.prototype.extend;Base._prototyping=!0;var d=new this;a.call(d,b);d.base=function(){};delete Base._prototyping;var e=d.constructor,f=d.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==f)this._constructing=!0,e.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||a).call(arguments[0],d)};f.ancestor=this;f.extend=this.extend;f.forEach=this.forEach;f.implement=this.implement;f.prototype=
d;f.toString=this.toString;f.valueOf=function(a){return"object"==a?f:e.valueOf()};a.call(f,c);"function"==typeof f.init&&f.init();return f};
Base.prototype={extend:function(b,c){if(1<arguments.length){var a=this[b];if(a&&"function"==typeof c&&(!a.valueOf||a.valueOf()!=c.valueOf())&&/\bbase\b/.test(c)){var d=c.valueOf(),c=function(){var b=this.base||Base.prototype.base;this.base=a;var c=d.apply(this,arguments);this.base=b;return c};c.valueOf=function(a){return"object"==a?c:d};c.toString=Base.toString}this[b]=c}else if(b){var e=Base.prototype.extend;!Base._prototyping&&"function"!=typeof this&&(e=this.extend||e);for(var f={toSource:null},
g=["constructor","toString","valueOf"],i=Base._prototyping?0:1;h=g[i++];)b[h]!=f[h]&&e.call(this,h,b[h]);for(var h in b)f[h]||e.call(this,h,b[h])}return this}};
Base=Base.extend({constructor:function(b){this.extend(b)}},{ancestor:Object,version:"1.1",forEach:function(b,c,a){for(var d in b)void 0===this.prototype[d]&&c.call(a,b[d],d,b)},implement:function(){for(var b=0;b<arguments.length;b++)if("function"==typeof arguments[b])arguments[b](this.prototype);else this.prototype.extend(arguments[b]);return this},toString:function(){return""+this.valueOf()}});
wysihtml5.browser=function(){var b=navigator.userAgent,c=document.createElement("div"),a=-1!==b.indexOf("MSIE")&&-1===b.indexOf("Opera"),d=-1!==b.indexOf("Gecko")&&-1===b.indexOf("KHTML"),e=-1!==b.indexOf("AppleWebKit/"),f=-1!==b.indexOf("Chrome/"),g=-1!==b.indexOf("Opera/");return{USER_AGENT:b,supported:function(){var a=this.USER_AGENT.toLowerCase(),b="contentEditable"in c,d=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,e=document.querySelector&&document.querySelectorAll,
a=this.isIos()&&5>(/ipad|iphone|ipod/.test(a)&&a.match(/ os (\d+).+? like mac os x/)||[,0])[1]||-1!==a.indexOf("opera mobi")||-1!==a.indexOf("hpwos/");return b&&d&&e&&!a},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var a=this.USER_AGENT.toLowerCase();return-1!==a.indexOf("webkit")&&-1!==a.indexOf("mobile")},supportsSandboxedIframes:function(){return a},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return!d},
hasCurrentStyleProperty:function(){return"currentStyle"in c},insertsLineBreaksOnReturn:function(){return d},supportsPlaceholderAttributeOn:function(a){return"placeholder"in a},supportsEvent:function(a){var b;if(!(b="on"+a in c))c.setAttribute("on"+a,"return;"),b="function"===typeof c["on"+a];return b},supportsEventsInIframeCorrectly:function(){return!g},firesOnDropOnlyWhenOnDragOverIsCancelled:function(){return e||d},supportsDataTransfer:function(){try{return e&&(window.Clipboard||window.DataTransfer).prototype.getData}catch(a){return!1}},
supportsHTML5Tags:function(a){a=a.createElement("div");a.innerHTML="<article>foo</article>";return"<article>foo</article>"===a.innerHTML.toLowerCase()},supportsCommand:function(){var b={formatBlock:a,insertUnorderedList:a||g||e,insertOrderedList:a||g||e},c={insertHTML:d};return function(a,d){if(!b[d]){try{return a.queryCommandSupported(d)}catch(e){}try{return a.queryCommandEnabled(d)}catch(f){return!!c[d]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return a},canDisableAutoLinking:function(){return this.supportsCommand(document,
"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return d||g||e},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return d||a||g},clearsListsInContentEditableCorrectly:function(){return d||a||e},autoScrollsToCaret:function(){return!e},autoClosesUnclosedTags:function(){var a=c.cloneNode(!1),b;a.innerHTML="<p><div></div>";a=a.innerHTML.toLowerCase();b="<p></p><div></div>"===a||"<p><div></div></p>"===
a;this.autoClosesUnclosedTags=function(){return b};return b},supportsNativeGetElementsByClassName:function(){return-1!==(""+document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},supportsClassList:function(){return"classList"in c},needsSpaceAfterLineBreak:function(){return g},supportsSpeechApiOn:function(a){return 11<=(b.match(/Chrome\/(\d+)/)||[,0])[1]&&("onwebkitspeechchange"in a||"speech"in a)},
crashesWhenDefineProperty:function(b){return a&&("XMLHttpRequest"===b||"XDomainRequest"===b)},doesAsyncFocus:function(){return a},hasProblemsSettingCaretAfterImg:function(){return a},hasUndoInContextMenu:function(){return d||f||g}}}();
wysihtml5.lang.array=function(b){return{contains:function(c){if(b.indexOf)return-1!==b.indexOf(c);for(var a=0,d=b.length;a<d;a++)if(b[a]===c)return!0;return!1},without:function(c){for(var c=wysihtml5.lang.array(c),a=[],d=0,e=b.length;d<e;d++)c.contains(b[d])||a.push(b[d]);return a},get:function(){for(var c=0,a=b.length,d=[];c<a;c++)d.push(b[c]);return d}}};
wysihtml5.lang.Dispatcher=Base.extend({observe:function(b,c){this.events=this.events||{};this.events[b]=this.events[b]||[];this.events[b].push(c);return this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(b,c){this.events=this.events||{};for(var a=this.events[b]||[],d=0;d<a.length;d++)a[d].call(this,c);return this},stopObserving:function(b,c){this.events=this.events||{};var a=0,d,e;if(b){d=this.events[b]||[];for(e=[];a<d.length;a++)d[a]!==c&&c&&
e.push(d[a]);this.events[b]=e}else this.events={};return this}});wysihtml5.lang.object=function(b){return{merge:function(c){for(var a in c)b[a]=c[a];return this},get:function(){return b},clone:function(){var c={},a;for(a in b)c[a]=b[a];return c},isArray:function(){return"[object Array]"===Object.prototype.toString.call(b)}}};
(function(){var b=/^\s+/,c=/\s+$/;wysihtml5.lang.string=function(a){a=""+a;return{trim:function(){return a.replace(b,"").replace(c,"")},interpolate:function(b){for(var c in b)a=this.replace("#{"+c+"}").by(b[c]);return a},replace:function(b){return{by:function(c){return a.split(b).join(c)}}}}}})();
(function(b){function c(a){return a.replace(e,function(a,b){var c=(b.match(f)||[])[1]||"",d=i[c],b=b.replace(f,"");b.split(d).length>b.split(c).length&&(b+=c,c="");var e=d=b;b.length>g&&(e=e.substr(0,g)+"...");"www."===d.substr(0,4)&&(d="http://"+d);return'<a href="'+d+'">'+e+"</a>"+c})}function a(h){if(!d.contains(h.nodeName))if(h.nodeType===b.TEXT_NODE&&h.data.match(e)){var f=h.parentNode,j;j=f.ownerDocument;var g=j._wysihtml5_tempElement;g||(g=j._wysihtml5_tempElement=j.createElement("div"));j=
g;j.innerHTML="<span></span>"+c(h.data);for(j.removeChild(j.firstChild);j.firstChild;)f.insertBefore(j.firstChild,h);f.removeChild(h)}else{f=b.lang.array(h.childNodes).get();j=f.length;for(g=0;g<j;g++)a(f[g]);return h}}var d=b.lang.array("CODE PRE A SCRIPT HEAD TITLE STYLE".split(" ")),e=/((https?:\/\/|www\.)[^\s<]{3,})/gi,f=/([^\w\/\-](,?))$/i,g=100,i={")":"(","]":"[","}":"{"};b.dom.autoLink=function(b){var c;a:{c=b;for(var e;c.parentNode;){c=c.parentNode;e=c.nodeName;if(d.contains(e)){c=!0;break a}if("body"===
e)break}c=!1}if(c)return b;b===b.ownerDocument.documentElement&&(b=b.ownerDocument.body);return a(b)};b.dom.autoLink.URL_REG_EXP=e})(wysihtml5);
(function(b){var c=b.browser.supportsClassList(),a=b.dom;a.addClass=function(b,e){if(c)return b.classList.add(e);a.hasClass(b,e)||(b.className+=" "+e)};a.removeClass=function(a,b){if(c)return a.classList.remove(b);a.className=a.className.replace(RegExp("(^|\\s+)"+b+"(\\s+|$)")," ")};a.hasClass=function(a,b){if(c)return a.classList.contains(b);var f=a.className;return 0<f.length&&(f==b||RegExp("(^|\\s)"+b+"(\\s|$)").test(f))}})(wysihtml5);
wysihtml5.dom.contains=function(){var b=document.documentElement;if(b.contains)return function(b,a){a.nodeType!==wysihtml5.ELEMENT_NODE&&(a=a.parentNode);return b!==a&&b.contains(a)};if(b.compareDocumentPosition)return function(b,a){return!!(b.compareDocumentPosition(a)&16)}}();
wysihtml5.dom.convertToList=function(){function b(b,a){var d=b.createElement("li");a.appendChild(d);return d}return function(c,a){if("UL"===c.nodeName||"OL"===c.nodeName||"MENU"===c.nodeName)return c;var d=c.ownerDocument,e=d.createElement(a),f=c.querySelectorAll("br"),g=f.length,i,h,k,j,n;for(n=0;n<g;n++)for(i=f[n];(h=i.parentNode)&&h!==c&&h.lastChild===i;){if("block"===wysihtml5.dom.getStyle("display").from(h)){h.removeChild(i);break}wysihtml5.dom.insert(i).after(i.parentNode)}f=wysihtml5.lang.array(c.childNodes).get();
g=f.length;for(n=0;n<g;n++)j=j||b(d,e),i=f[n],h="block"===wysihtml5.dom.getStyle("display").from(i),k="BR"===i.nodeName,h?(j=j.firstChild?b(d,e):j,j.appendChild(i),j=null):k?j=j.firstChild?null:j:j.appendChild(i);c.parentNode.replaceChild(e,c);return e}}();wysihtml5.dom.copyAttributes=function(b){return{from:function(c){return{to:function(a){for(var d,e=0,f=b.length;e<f;e++)d=b[e],"undefined"!==typeof c[d]&&""!==c[d]&&(a[d]=c[d]);return{andTo:arguments.callee}}}}}};
(function(b){var c=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],a=function(a){var e;a:for(var f=0,g=c.length;f<g;f++)if("border-box"===b.getStyle(c[f]).from(a)){e=c[f];break a}return e?parseInt(b.getStyle("width").from(a),10)<a.offsetWidth:!1};b.copyStyles=function(d){return{from:function(e){a(e)&&(d=wysihtml5.lang.array(d).without(c));for(var f="",g=d.length,i=0,h;i<g;i++)h=d[i],f+=h+":"+b.getStyle(h).from(e)+";";return{to:function(a){b.setStyles(f).on(a);return{andTo:arguments.callee}}}}}}})(wysihtml5.dom);
(function(b){b.dom.delegate=function(c,a,d,e){return b.dom.observe(c,d,function(d){for(var g=d.target,i=b.lang.array(c.querySelectorAll(a));g&&g!==c;){if(i.contains(g)){e.call(g,d);break}g=g.parentNode}})}})(wysihtml5);
wysihtml5.dom.getAsDom=function(){var b="abbr article aside audio bdi canvas command datalist details figcaption figure footer header hgroup keygen mark meter nav output progress rp rt ruby svg section source summary time track video wbr".split(" ");return function(c,a){var a=a||document,d;if("object"===typeof c&&c.nodeType)d=a.createElement("div"),d.appendChild(c);else if(wysihtml5.browser.supportsHTML5Tags(a))d=a.createElement("div"),d.innerHTML=c;else{d=a;if(!d._wysihtml5_supportsHTML5Tags){for(var e=
0,f=b.length;e<f;e++)d.createElement(b[e]);d._wysihtml5_supportsHTML5Tags=!0}d=a;e=d.createElement("div");e.style.display="none";d.body.appendChild(e);try{e.innerHTML=c}catch(g){}d.body.removeChild(e);d=e}return d}}();
wysihtml5.dom.getParentElement=function(){function b(b,a){return!a||!a.length?!0:"string"===typeof a?b===a:wysihtml5.lang.array(a).contains(b)}return function(c,a,d){d=d||50;if(a.className||a.classRegExp){a:{for(var e=a.nodeName,f=a.className,a=a.classRegExp;d--&&c&&"BODY"!==c.nodeName;){var g;if(g=c.nodeType===wysihtml5.ELEMENT_NODE)if(g=b(c.nodeName,e)){g=f;var i=(c.className||"").match(a)||[];g=!g?!!i.length:i[i.length-1]===g}if(g)break a;c=c.parentNode}c=null}return c}a:{e=a.nodeName;for(f=d;f--&&
c&&"BODY"!==c.nodeName;){if(b(c.nodeName,e))break a;c=c.parentNode}c=null}return c}}();
wysihtml5.dom.getStyle=function(){function b(b){return b.replace(a,function(a){return a.charAt(1).toUpperCase()})}var c={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},a=/\-[a-z]/g;return function(a){return{from:function(e){if(e.nodeType===wysihtml5.ELEMENT_NODE){var f=e.ownerDocument,g=c[a]||b(a),i=e.style,h=e.currentStyle,k=i[g];if(k)return k;if(h)try{return h[g]}catch(j){}var g=f.defaultView||f.parentWindow,f=("height"===a||"width"===a)&&"TEXTAREA"===e.nodeName,
n;if(g.getComputedStyle)return f&&(n=i.overflow,i.overflow="hidden"),e=g.getComputedStyle(e,null).getPropertyValue(a),f&&(i.overflow=n||""),e}}}}}();wysihtml5.dom.hasElementWithTagName=function(){var b={},c=1;return function(a,d){var e=(a._wysihtml5_identifier||(a._wysihtml5_identifier=c++))+":"+d,f=b[e];f||(f=b[e]=a.getElementsByTagName(d));return 0<f.length}}();
(function(b){var c={},a=1;b.dom.hasElementWithClassName=function(d,e){if(!b.browser.supportsNativeGetElementsByClassName())return!!d.querySelector("."+e);var f=(d._wysihtml5_identifier||(d._wysihtml5_identifier=a++))+":"+e,g=c[f];g||(g=c[f]=d.getElementsByClassName(e));return 0<g.length}})(wysihtml5);wysihtml5.dom.insert=function(b){return{after:function(c){c.parentNode.insertBefore(b,c.nextSibling)},before:function(c){c.parentNode.insertBefore(b,c)},into:function(c){c.appendChild(b)}}};
wysihtml5.dom.insertCSS=function(b){b=b.join("\n");return{into:function(c){var a=c.head||c.getElementsByTagName("head")[0],d=c.createElement("style");d.type="text/css";d.styleSheet?d.styleSheet.cssText=b:d.appendChild(c.createTextNode(b));a&&a.appendChild(d)}}};
wysihtml5.dom.observe=function(b,c,a){for(var c="string"===typeof c?[c]:c,d,e,f=0,g=c.length;f<g;f++)e=c[f],b.addEventListener?b.addEventListener(e,a,!1):(d=function(c){"target"in c||(c.target=c.srcElement);c.preventDefault=c.preventDefault||function(){this.returnValue=false};c.stopPropagation=c.stopPropagation||function(){this.cancelBubble=true};a.call(b,c)},b.attachEvent("on"+e,d));return{stop:function(){for(var e,h=0,f=c.length;h<f;h++)e=c[h],b.removeEventListener?b.removeEventListener(e,a,!1):
b.detachEvent("on"+e,d)}}};
wysihtml5.dom.parse=function(){function b(c,e){var h=c.childNodes,f=h.length,g;g=a[c.nodeType];var k=0;g=g&&g(c);if(!g)return null;for(k=0;k<f;k++)(newChild=b(h[k],e))&&g.appendChild(newChild);return e&&1>=g.childNodes.length&&g.nodeName.toLowerCase()===d&&!g.attributes.length?g.firstChild:g}function c(a,b){var b=b.toLowerCase(),c;if(c="IMG"==a.nodeName)if(c="src"==b){var d;try{d=a.complete&&!a.mozMatchesSelector(":-moz-broken")}catch(e){a.complete&&"complete"===a.readyState&&(d=!0)}c=!0===d}return c?
a.src:i&&"outerHTML"in a?-1!=a.outerHTML.toLowerCase().indexOf(" "+b+"=")?a.getAttribute(b):null:a.getAttribute(b)}var a={1:function(a){var b,f,i=g.tags;f=a.nodeName.toLowerCase();b=a.scopeName;if(a._wysihtml5)return null;a._wysihtml5=1;if("wysihtml5-temp"===a.className)return null;b&&"HTML"!=b&&(f=b+":"+f);"outerHTML"in a&&!wysihtml5.browser.autoClosesUnclosedTags()&&("P"===a.nodeName&&"</p>"!==a.outerHTML.slice(-4).toLowerCase())&&(f="div");if(f in i){b=i[f];if(!b||b.remove)return null;b="string"===
typeof b?{rename_tag:b}:b}else if(a.firstChild)b={rename_tag:d};else return null;f=a.ownerDocument.createElement(b.rename_tag||f);var i={},r=b.set_class,m=b.add_class,s=b.set_attributes,x=b.check_attributes,o=g.classes,z=0,w=[];b=[];var y=[],A=[],t;s&&(i=wysihtml5.lang.object(s).clone());if(x)for(t in x)if(s=h[x[t]])s=s(c(a,t)),"string"===typeof s&&(i[t]=s);r&&w.push(r);if(m)for(t in m)if(s=k[m[t]])r=s(c(a,t)),"string"===typeof r&&w.push(r);o["_wysihtml5-temp-placeholder"]=1;(A=a.getAttribute("class"))&&
(w=w.concat(A.split(e)));for(m=w.length;z<m;z++)a=w[z],o[a]&&b.push(a);for(o=b.length;o--;)a=b[o],wysihtml5.lang.array(y).contains(a)||y.unshift(a);y.length&&(i["class"]=y.join(" "));for(t in i)try{f.setAttribute(t,i[t])}catch(v){}i.src&&("undefined"!==typeof i.width&&f.setAttribute("width",i.width),"undefined"!==typeof i.height&&f.setAttribute("height",i.height));return f},3:function(a){return a.ownerDocument.createTextNode(a.data)}},d="span",e=/\s+/,f={tags:{},classes:{}},g={},i=!wysihtml5.browser.supportsGetAttributeCorrectly(),
h={url:function(){var a=/^https?:\/\//i;return function(b){return!b||!b.match(a)?null:b.replace(a,function(a){return a.toLowerCase()})}}(),alt:function(){var a=/[^ a-z0-9_\-]/gi;return function(b){return!b?"":b.replace(a,"")}}(),numbers:function(){var a=/\D/g;return function(b){return(b=(b||"").replace(a,""))||null}}()},k={align_img:function(){var a={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(b){return a[(""+b).toLowerCase()]}}(),align_text:function(){var a={left:"wysiwyg-text-align-left",
right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(b){return a[(""+b).toLowerCase()]}}(),clear_br:function(){var a={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(b){return a[(""+b).toLowerCase()]}}(),size_font:function(){var a={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",
6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(b){return a[(""+b).charAt(0)]}}()};return function(a,c,d,e){wysihtml5.lang.object(g).merge(f).merge(c).get();for(var d=d||a.ownerDocument||document,c=d.createDocumentFragment(),h="string"===typeof a,a=h?wysihtml5.dom.getAsDom(a,d):a;a.firstChild;)d=a.firstChild,a.removeChild(d),(d=b(d,e))&&c.appendChild(d);a.innerHTML="";a.appendChild(c);return h?wysihtml5.quirks.getCorrectInnerHTML(a):
a}}();wysihtml5.dom.removeEmptyTextNodes=function(b){for(var c=wysihtml5.lang.array(b.childNodes).get(),a=c.length,d=0;d<a;d++)b=c[d],b.nodeType===wysihtml5.TEXT_NODE&&""===b.data&&b.parentNode.removeChild(b)};wysihtml5.dom.renameElement=function(b,c){for(var a=b.ownerDocument.createElement(c),d;d=b.firstChild;)a.appendChild(d);wysihtml5.dom.copyAttributes(["align","className"]).from(b).to(a);b.parentNode.replaceChild(a,b);return a};
wysihtml5.dom.replaceWithChildNodes=function(b){if(b.parentNode)if(b.firstChild){for(var c=b.ownerDocument.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);b.parentNode.replaceChild(c,b)}else b.parentNode.removeChild(b)};
(function(b){function c(a){var b=a.ownerDocument.createElement("br");a.appendChild(b)}b.resolveList=function(a){if(!("MENU"!==a.nodeName&&"UL"!==a.nodeName&&"OL"!==a.nodeName)){var d=a.ownerDocument.createDocumentFragment(),e=a.previousElementSibling||a.previousSibling,f,g,i;for(e&&"block"!==b.getStyle("display").from(e)&&c(d);i=a.firstChild;){for(f=i.lastChild;e=i.firstChild;)g=(g=e===f)&&"block"!==b.getStyle("display").from(e)&&"BR"!==e.nodeName,d.appendChild(e),g&&c(d);i.parentNode.removeChild(i)}a.parentNode.replaceChild(d,
a)}}})(wysihtml5.dom);
(function(b){var c=document,a="parent top opener frameElement frames localStorage globalStorage sessionStorage indexedDB".split(" "),d="open close openDialog showModalDialog alert confirm prompt openDatabase postMessage XMLHttpRequest XDomainRequest".split(" "),e=["referrer","write","open","close"];b.dom.Sandbox=Base.extend({constructor:function(a,c){this.callback=a||b.EMPTY_FUNCTION;this.config=b.lang.object({}).merge(c).get();this.iframe=this._createIframe()},insertInto:function(a){"string"===typeof a&&
(a=c.getElementById(a));a.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var a=this.getIframe();a.parentNode.removeChild(a)},_readyError:function(){throw Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet");},_createIframe:function(){var a=this,d=c.createElement("iframe");d.className="wysihtml5-sandbox";b.dom.setAttributes({security:"restricted",allowtransparency:"true",
frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(d);b.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(d.src="javascript:'<html></html>'");d.onload=function(){d.onreadystatechange=d.onload=null;a._onLoadIframe(d)};d.onreadystatechange=function(){if(/loaded|complete/.test(d.readyState)){d.onreadystatechange=d.onload=null;a._onLoadIframe(d)}};return d},_onLoadIframe:function(f){if(b.dom.contains(c.documentElement,f)){var g=this,i=f.contentWindow,h=f.contentWindow.document,k=
this._getHtml({charset:c.characterSet||c.charset||"utf-8",stylesheets:this.config.stylesheets});h.open("text/html","replace");h.write(k);h.close();this.getWindow=function(){return f.contentWindow};this.getDocument=function(){return f.contentWindow.document};i.onerror=function(a,b,c){throw Error("wysihtml5.Sandbox: "+a,b,c);};if(!b.browser.supportsSandboxedIframes()){var j,k=0;for(j=a.length;k<j;k++)this._unset(i,a[k]);k=0;for(j=d.length;k<j;k++)this._unset(i,d[k],b.EMPTY_FUNCTION);k=0;for(j=e.length;k<
j;k++)this._unset(h,e[k]);this._unset(h,"cookie","",!0)}this.loaded=!0;setTimeout(function(){g.callback(g)},0)}},_getHtml:function(a){var c=a.stylesheets,d="",e=0,k;if(c="string"===typeof c?[c]:c)for(k=c.length;e<k;e++)d+='<link rel="stylesheet" href="'+c[e]+'">';a.stylesheets=d;return b.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(a)},_unset:function(a,c,d,e){try{a[c]=d}catch(k){}try{a.__defineGetter__(c,function(){return d})}catch(j){}if(e)try{a.__defineSetter__(c,
function(){})}catch(n){}if(!b.browser.crashesWhenDefineProperty(c))try{var p={get:function(){return d}};e&&(p.set=function(){});Object.defineProperty(a,c,p)}catch(q){}}})})(wysihtml5);(function(){var b={className:"class"};wysihtml5.dom.setAttributes=function(c){return{on:function(a){for(var d in c)a.setAttribute(b[d]||d,c[d])}}}})();
wysihtml5.dom.setStyles=function(b){return{on:function(c){c=c.style;if("string"===typeof b)c.cssText+=";"+b;else for(var a in b)"float"===a?(c.cssFloat=b[a],c.styleFloat=b[a]):c[a]=b[a]}}};
(function(b){b.simulatePlaceholder=function(c,a,d){var e=function(){a.hasPlaceholderSet()&&a.clear();b.removeClass(a.element,"placeholder")},f=function(){a.isEmpty()&&(a.setValue(d),b.addClass(a.element,"placeholder"))};c.observe("set_placeholder",f).observe("unset_placeholder",e).observe("focus:composer",e).observe("paste:composer",e).observe("blur:composer",f);f()}})(wysihtml5.dom);
(function(b){var c=document.documentElement;"textContent"in c?(b.setTextContent=function(a,b){a.textContent=b},b.getTextContent=function(a){return a.textContent}):"innerText"in c?(b.setTextContent=function(a,b){a.innerText=b},b.getTextContent=function(a){return a.innerText}):(b.setTextContent=function(a,b){a.nodeValue=b},b.getTextContent=function(a){return a.nodeValue})})(wysihtml5.dom);
wysihtml5.quirks.cleanPastedHTML=function(){var b={"a u":wysihtml5.dom.replaceWithChildNodes};return function(c,a,d){var a=a||b,d=d||c.ownerDocument||document,e="string"===typeof c,f,g,i,h=0,c=e?wysihtml5.dom.getAsDom(c,d):c;for(i in a){f=c.querySelectorAll(i);d=a[i];for(g=f.length;h<g;h++)d(f[h])}return e?c.innerHTML:c}}();
(function(b){var c=b.dom;b.quirks.ensureProperClearing=function(){var a=function(){var a=this;setTimeout(function(){var b=a.innerHTML.toLowerCase();if("<p>&nbsp;</p>"==b||"<p>&nbsp;</p><p>&nbsp;</p>"==b)a.innerHTML=""},0)};return function(b){c.observe(b.element,["cut","keydown"],a)}}();b.quirks.ensureProperClearingOfLists=function(){var a=["OL","UL","MENU"];return function(d){c.observe(d.element,"keydown",function(e){if(e.keyCode===b.BACKSPd.appendChild(e),g&&c(d);i.parenaj(e),g&focus:composer"ee=["OL","UL",html5-temp"==="}catch(f){returb.se===ommand dat"t=functioneCou
,ytion()a oHTMtChild){for(var c=b.odown",)sp;</p>"==b||"<p>&nTges.retu),d["cement);c.preventDefault=)}catgrange?"|,(i[t]=s);r&&w.push(r);if(m)for(t in m)if(s=eaturear ?("paste:ccars=?"|,(i[werCerHTML:c}}();
(lt=)}catgrange?"|,fh.write(]}catch(j){}va:H[erpolate(a)},_c.preventDefault=)}ca|,fhgetAbleSMENT_NODE&&(a=a.parentNode);return b!==a&&b.contains(a)};if(b.cocript:'<html></html>'");d=c.sSelector(":-moz-broken")}catch(e){a.complete&&"complete"===a.readyState&&(d=!0)}c=!0===d}return c?
a.src:i&&"outerHTML"in a?-1!=a.outemarginh]br G;if(D)Gmarginhc}};
(acatch(gouterHTML"in a?-1!=a.oute3HTMc?tnction(){var e)}},u.setRangeTML"in a?-1!=a.oturn{from:fun+h?wginvar e)}},u.obser{varc){gngeTML"in1a
lbi unctio"in a?-1!sumentElement;"at"in document.:b&&this.addRange(Yt;"textC|rr e)}},u.{for(varateElement"))c],dithT(D)Gmarginhc}};
(acatch(gouterHTML"in a?-1!=a.oute3HTMc?tnction(){var vtion(c)xbute(b):null:a.getAttribute(b)}var a={1:functioninhk<
jn(){vaEy></bosName||a.losedTags(D);return h?hAttribute(b)}obsmand:function(){var b={formatBltch(gouterHTd.matBli."+1!=a.otuvvion(a,c){if(l&&v&n a.rolveLis)ittribute(b)}hction(}obsmand">n d};thaRange=N?fun
)for(t in m)if(s=eaturjr.su[dvar vtsp>&iBdK)if(turn func;nBdK)if(t.nodea),10)<a.offsetWidth:.hasEloctionec=d.creaa.texobserve("b||a.los+("b||a.los+("b||a.los+((b.8;f),10)[;{returb.setion(b){;reb
etion(){var vtion(c)xbute(b):null:a.gete,bn(){c.parentNb:composer"iforft=)}caPropagation=c.stopPropagatltener(e,a,!5ntNode);return b!==a&&b.co;hAttrimbrft=)}h(gouterHTML"iea),10)<a,(l&&v&(a.gete]ode);return b!==a&&b.this;setTco;hAt;else ferDocument,e=d.createElement(a),f=c.querySelectorAll("br"),g=f.length,i,h,/html>setTco;hreturn null;a._wL:c}}();
(function(b){var c=b.unset(h,e[k]);this._unse.outerHTML.tpportsDat <k;e++)d+='<link rel="stylesheeeeed "t(a),f=a"tr,a"tr,atAttribute(b();tion(b,cis._unse.outerHTML.tpportsDat <k;e++)d+='<link rel="stylesheeeeed "t(a),f(emoon(){a.isEmpty()|reatc.ownerDocum){this(b.cocr(a,b){v.derel="styleshBdK)ifocr(a,b)rHTML=c}catch(g){}d.body"ute(b[d]||d,C=c.]ributesrText"in cylesheeeeed "t(a),){return{on:function(c){ument||documtlteny"ute(b[d]||d,C=c.]ri[ctione=a.ind]ri[c"bloyn(var],b.noda,functnt||documtlt(g)?cd+='<a)},_e?c.innerHe:d=true;a.:..body"ute(tch(gouters+deateEleme
;j=
g;e.appendChild(c);return h?wysihtml5.,e!="None"){var a;if(th-align-right",center:"wysiwycomplete&&"comy:comar n(){g.call(gI(
or n(){g.c
or n(){g.c
oruten(}obs){var c=
or n(){g.c
or nown"],&co;hreturn null;a._H})}}1ng})})(w1!==b.inp
documtltbng})})n-1!==b.indexOf(c)),g=f.length,i,h(erC<lan;}1n(c)),g=f.length,i,h(se()]}}(),clear_br:func.c
or nown"],&:ement;"texe y:comar n(){gs;s,)]}}(),stChar n(a&&
(a=clt())},displaysCaretInEmptNate]ode);return=aAp>"==bustChar n(a&&);trion()=return=aAp>e!="None"){var a;if(th-alie"Fi/=aAp>"=te(b();tiodd;.removeChT(D)Gmarginhc}};
or nown"=b.dom;baze-l  ruby=){this(s){variie"Fi/=aAEydocuma0])};el?ois(s){variie"Fi/=aAEydocuma0])})n-1!==b.indexOf(,b1ng})})(w1i:B])};el?oinow,bheight&a0])};el?ois(s){variie"Fi/=aAEydocuma0])})n-1!=rb()entDefault=)}catgrange?"|,hild(e),g&&c(d);i.pa),g&&=b.dom, unction([h],b.removeEventListec.stopPropagatltener(e,a,!5ntNode);re<nul=0;b<argum=jeon(){varement;"texe y:co=nativeSelection.extenarj=jeon(){wvariturn c?
a.src:i&&g=f.length;h<g;h++)d(f[h]e.replaceChild(a.styleurn-1!==a.irc:;b.d=B;h++)d(f[h]e.r-m(a,ction(b){returvc{3,})/gi,f=/([^\:i&&g_yiremennown"=bion(){var<n"=biotivc.style,bn(){)ion<4:"w;?iBo
documtlY)ox=Base.extend(}1ng};pr:f("INVALID_STATE_ERIap]tains=functioec.snt:fuleurn-H,gunction(b[=eatu(ah< c="d(rHTd.matBl^\:i&&($+xt:funcL";split(" "),i&&)B(laceholdewyg-fonterHTML"in a?-1:comar ,a,!tion(b[=eatu(ah?,erCerHTML:eturn ,htlY)ox=Base.extend(}1ng}tiveGe{i.crument(a));urnualnRequest"i<k;eerDocuntLisid,C=c.a(he if(this.rangeCheturn this._r)t=b[a],c.sr,a"tr,atAttribute(b()lesheek;
fh.wr(cpushxt=b},b.getTd(rHTd.maeTextNode(b));a&erHTML"in a?-1:comar ,a,!tio};prn ;tiodd;.removeChT(D)GmarginhhmoveEventLiscpushxt=b},b.getnhhm};u.detach=funct,;"texe y:co=natived=tru"w;?iBment.isEmxt:funcL"=f,(" "),i&&)B(=gd,C=c.cpushxt=b},b.getunctio"in a?-1!sumentElecpushxt=b},b.getnmulatePlace5.dom)a(n f&c.snt:fuleurn-H,gunSEditabutes,o=g.classes,zc\:i n(){g.c
or now,g"d(rHTd.matBl^\n-1!=f;forfction(){va[3])ibub[0]r(". if(this.range;iub[bch(j){}varr(".turn this._r;b=gu.obs if(this.range?funt){a=this.:
0;c=iu.obsturn this._r?fges.slice(:tch(j){},C=c.a(bs if(this.range,feturn this._r)t=b[a],h.sr,a"tr,atAttribute(b()lesheeh;fh.wra},displaysCaretInEmptNate]odeefaulte);re<nu(gtml5=b[a],c.styleFlo=jeon((iectoulatePlace.removeAl})})n-1!==b.indePlaceholde5.dom)a(g,grginwidthdocumutes,o=g.classesa},displaysCaretInEmptNate]odrument(a));urnualnRequest"a[d])aCTION;this.");d.orDocuntLisbustmtltbng})}){varebrginwidthh-alie"Fi/=aAp>"=te(bbr n(){g.c
or nownbutemorDocuntLisbu,e=brrem(hie"Fi/=aAp>"=te(bbr n(){g.c
or nown
{"+c+.remtChbrrem(htion([h],b.,;"texe eEventListecreateRangessionStorage iturn)},0r e=d.const,emorDocuntLisbu,,e="),i&:0,mectoen(}obs){var c=
or n(){e]o,oolean"for(i in a){" "),i&Hk);h.>lean"for(i in a){"ommandHk);h.,e,a,!5nc}};erHTML"in S"),i&:0,mecto==d&&!g.)e"!==c.nodeName;){vow&&"m,et=)}catgrange?"|,hild(e),g&&;c}};erHTML"in S"),i&:0,mecto==d&&!g=e,a,!5-sandboorDocuntLise{for(var;for(,a,!5ck"!==b.getS{do f+tionmmandcL"||ppenionmmandt(h,e[;wragfalsec=fvtinctio"in a?-1!sumentElee{fc>le,e))bxt:funcL"throwe,e))bxt:funcL"=cu,,e= eEvem){ten(}obs){varate(a)},_unset:functurn{contains:()c.selec= eEvem){t_W3C():
a.src:i&&g=f.length.selec= eEvem){t_hDev_H})c= eEvem){t_W3Cen(}obs){var c=
or n(){e]oquerySelecto,d=b.length;a<d;remoins:("urn h?","rDocumAEynebem(hary"d;remoins:("urn h?","ateDocuAEynebem(hary"d})c= eEvem){t_hDeven(}obs){var c=
or n(){e]oq:;b.d=B;h++)d(f[h]e.r-md])aCbem(hingcL";c"d(rHTd.matBl^bxt:fun data,fbject(!sumv&&this){};el;if(m)d(rHTd.ma=c.nodeName;){vow&&"m,andboorDocuntLisfmd])fonmmandcL",
 unctio"in a?-1!sumentElemewnb+=1e(b)}va-10;f<c;f+t2Default!sumv&&this(f=a.f
wysiht(c.nodeNa(b)}va n(){e]oq:;b.d=B;h++)d(f[h]e.r-m;0<=c;c--ction()!sumv&&this(c=a.f
wysiht(c.noieNalo=jeon(&this("EdeTyEh?",fd;relapseToS}lectiTg-font-size-xx-large"([^\:i&&g_yiremennn(){var<n"?a="'+d+'">():|,fhtion(){vction(b[=eatEleme
;j= n(){g.c
or nown"],&co;c?cction(){va[a]tEl:[]fhtio
or nont-size-xx-large"([^\:i&&g_yiremennn(){var<n"a,ctase.extenda,cttio
or n5.domlection.extin c},isArray:function,displi&&g_yiremennown"=bioquerySelector([h]e.repla"+e);var f=()]}}()on.extin c},isArraya:function,displi&&g_yiremennown"=bioquerySelector(h]e.repla"+e);var f=()pect=
r;b.Selecsbu,,"in document.:b&&this.addRa&&"OLif(turn aeatEle"],&co;cancelBsC(g)},0)}row ntLisbu?};eb?!!te","open","close:b==place(a,fu!teault=c.prev:!0:0<bute<a-1!=a.oturn{from:f&("P"===a.);i=a{1:functf;cancelBsC(g)},0)}row ntLisba.is};ee?(f==b&c(d);intLiIatchsbalengtk"!==b.getS:e=werCase()?(f==b&c(d);intLiIatchsba+1lengtk"!==b.getS:f==b&c(dion(}row ntLisbon(b,a,!5f)ddCla&("onwebkitsppe.edbi uWrapped"wysiwyg-fid"irstChild;ribuild(b)};
(fuctio)fssionStorage g);cancelBrDocu){varef=a. dat"t=fb"const);i= unctio"in a,=b&c(d);intLiIatchs,j,nunction() eselectioner{va.los+("b=Empty()=["referMncy:}};
or nown"=.dom;baze-l  r;pr:TION;this:iwycomptentNode.r[ctioner{va.los+("b]&("P"===a.f}">#{stionycompt.lengts.obsrowsgI(
ors||"OL"=_fontt;"texeimilarCeturn{from=c;;"texn){relize=s.");d.ject ToAn=c.lengtml5.h,e[k]a={lefti"wysiwg;&e.call(this,doM=(b.match(f)||ildren=function({sti=thisycomptentNode.events[b]||[++).coycomptentNode.nerDcngtk"!==b.get,m);
(ld(b)},dbi(cb){var c=docume,=bme||etion(){va)d.elnctio"in a?-1!sumentElec)ion()=return=aer{va.los+("bd(b)}=
(a){eContentsectiL h[g]}atch(f)||ildren=functycomptentNode.events[d=ne;a}}()b+=ycomptentNode.na]events[bsplit(c).l|iphone|ipod/.test(adren=function(a){q(this,tentNode.events[bcreateRange(m.'tch(/ otentNode.nis)}b)}+.'tdocument[M=(b.("+){eConte,")+")]"}}g&&"function"r")}ALID_STAlement("sser",e).observe("blur:;a;b)a[b].delrs||"OL"Styl}").by(rs||"OL","===typeof s{"},a=/\-dChild(d);ink re;"texeimilarCeturn{from;if(h)d=e[ech(j){}var g=d5.dom)dml5;.dom)dmlment("d
or nown"=.dom;baze-l  r){ifibute]br CD)Gmargiycompt.lengts,
apt.lengt"class"))&&
(w=w.dML"in a?-1ihtml5.dom.insL.toLowerC,("wyoweryction(b[=eatElenspect=func+)e=c[a[ach(j){}varforiong)};e,m=d,sa){xsource sumo,z,wa){y}try{a.__dw<yatewStylo[a[w],zgetName=fudjacferMncy:edsS.los+("b|otk"!==b.get,tspb)a[btypeof={exe(z)= uneturg)cocrtentNode.eneturo),o=!==ty(gatler{va.los+("b,satch(j){}),o=!=d)matler{va.los+("b,x})(wysL h[g]));a=a.ig=0;forb={cletName=fudjacferMncy:edsS.los+("b|dtk"!==b.get,t0))typeof={exe(d)= uneturg)cocrtentNode.eneturg}tivech(f){re){wute(b)}y=
fry{a.__dw<yatewSf[w].doM=(b.(de);return=a(i,sustChar n((m,xS}lectiudjacferMncy:edsS.los+("bction(b[=eatu(ah< cd}};
or nown"=.dbr");a.api&&"?tml5.dom.ins:a\:i&?"ault=c.prev":"","open","closeion()unctio(c[a[f]=w.d;
or nown"=.dbr");a.apML"in a?dsihtml5.l(d=e[f]=w.");d.jrdeName;)sMncy:edsSd(a,bML"in a?d[&?"er{varc){g":"TION;thispt:'<html>functijrdeName;)sMncy:edsSction(b[=eatEleme
;turn d=ifibute]br CD)Gmargiycompt.lengts,(apt.lengtfont:fclass"))&&
(w=)rn d=ifibute]br CD)Gmargiycompt.lengts,(bpt.lengtfo
nt:fclass"))&&
(w=)rn d=endChild(d);return di=c.no==bndChild(d);return di=c.no)a:nt("drowser.autoCloses!=bdrowser.autoCloses)dml5;.dom{dute(b)}"},a=/\-rowser.autoClosesAttri]||[++).ivec/\-rowser.autnerDatchame&i;for(e"!a.sc]||b-rowser.auto);inme&dI})/gg)= u(arg,a){d!a.u(arg,a){dr(". arg,a){dbi un functio!==gun functioth;kml5;sDom=fundmlmode}c=null,ument(a));RIap]t!==b.inp
docu"!==c.nodeName;){ycompt.lengtsurn sgI(
ors||"OL"odeVandow.docum].delrs||"OL"S"));j=
g;j.ject To.los+("bction(b[=ea"=te(bbr
tml5.dom.ins;1=uild(b)};
(fu{from:funifibute]br CD)Gmargiycompt.lengts,bpt.lengt"class"))&&
(w=?gI(
ors||"OL"odeV").by(rs||"OL",bndChild(d)?6)}}();
wysiemenandow.documbndChild(d);return d;"texeimilarCeturn{from{var ,)}}();
wysihtml5.a):nandow.documaCase").by(rment(a));RIap](=b&c(d);iind]ri[cemen,athis.returnValue=false};c.sasihtmionStorage tsDatirn{!suedsSction(b[=eale"],&co;cancele]br CD)Gmargiycompt.lengts,apt.lengt"class"))&&
(w=w.mand:function()===typeof s.ch(ewysi).by(rs||"OL"},u f=To.los+("bction(b[=eb,
={1:fr(e=[];a<dntLise{&16)1]&&("onh]e.r-md]xe eEventLiset,emos&thisInh]e.r-ceturn this._r,cges.slice((a,c-ceturn this._r,cges.slice((a,(.witheturn this._r,cges.slice((,cm=jeon(){varee)t,emos&thisInh]e.r-ce if(this.range,cunt){a=this.(a,c-ce if(this.range,cunt){a=this.(a,(f=.withe if(this.range,cunt){a=this.(ent;"texeimilarCeturn{fromE")&&();
wysieme)&&();
wysi=endChild(d);return d;"texeimilarCeturn{from{var ;a[b].delirn{!suedsS(\\s|$)ea},repl0<f.length&&(cfig=b.lang.obnValue=false};ccfig=b.lang.,
= vti-1!sumentElec)}j.ject To
or nont-size-x}}})})(wysition(){va[.dbr");a.ap]b,a,!5r a={1:f"placehold").by(rment(a));RIap](aeturn this._rone=a.ind]ri[cd;relbrrem(htion([h],dnt;"texe eEventList,tch(gouten(){var a=child(j.Bem(harieBmentysition(){va[.dbr");a.ap]b,a,!r a={1:f"enspect=for(k=0;k<f;k++)(new++fnhk<
f],etName=fuLID_STAlement("s,dnr(h]e.rject To.los+("bde)if(return=a(c+)e=05-tec[cch(j){}var;lo=jeon((d,ource su);;"texn){relizew.");d.("wyowery.arra}},u f=To
or nont-size-x}}})})(wysition(){va[.dbr");a.ap]b,
e("#crCase()?(hild(j.Bem(harieBme,wysition(){va[.dbr");a.ap]bCaswysiturn this._rone=a.ind]ri[ce("b||a.los+("b||a.los+("b||a.los+,aoorDocuntLise;ifmoveEventLisce,wy"div"nspect=for(k=0;k<f;k++)(new++fnhk<
f],(e=etName=fuLID_STAlement("s,dn=w.");d.u f=To.los+("b(d,a{1:;1=ug?;"texe eEventList,c+)eCasf(return=a(c+)e=05,tec[cch(j){}var,lo=jeon((d,ource su),;"texn){relizew.");d.("wyowery.arra),e= eEve+("bction(b[=eatu(ah< cd}c;
or nown"=b.dom;baze-l  ruey=){this(s){variic?cc/=aAEydocuma!ate&dnctioneCou
,y
c)}b)},a,!conc,u.obr("xOf(,b1ng})})(w1i:B])functi"placct=)}catgrange?"|,hild(e),g&&c(d);i.geNalo=jdom, unction([h],cec.stdpr:f(tltenerwerCfodeValuere<nul=0;b<e;ifmoveon(){varec))lectiTg-fon.extenBy
or nont-size-x},Eleme
;j=
g&("onh]e.r-m;co=jdom, unction([h],a);wysihtmlt+=";s"None"){vrve(?d="'+d+'">():|,;can).ind(Child(i),j="...wer){dTo
or nont-size-x}}})})(wy"+a;hc}};tion(){va[.dbr");a.ap]b,a,!5etion(b){returvl}").by(e=fuLID_STAlement("s,ae if(this.rangew=?ner:!1"nspect=for(k=0etion(b).domnew++fn{if[h]e.rctiTg-fon.extenBy
or n(e[f]rra;}").by(e=fuLID_STAlement("s,e[f]=s=eat"!ai&&!dML"in a!1"cn(c){re)den"),e=g.,tog;b.Selecont-size-x}}}].delir.wer){dTo
or nsbu?");d.u f=To
or nsbu:h]e.rject ToSelecsbu,,;bq:;b.d=B;h+tgra.wer){r=fin document.,,displement,["cut"?cd+='<sc);return h?wysihtml5.,e!="None"){vbnction(br:"wysbwycomplete&&"coby:comar n(){g.call(gI(
or n(){g.c
or nnset:fu.Dispatcher=Base.extwyg-text-align-right",cent?cd+='<a n(){e]o,b&c.snt:nterpolate:func=functwyg-text-apty()|re[be=c["===Object.prototype.toString.call(b)hc}}a,ctsnt:te&0;fortion(br:"wyfig=doculse};pty()|rt,e="strin=s=eae)dn functiogI(
or n(){g.retuobject At,tch)}}}}}ion(a n(){e]oqt(g)?cd+='<abinnectoulatePgeNation(br:"wyfig=docargetpty()|rt,e="strin=s function(his._ction(b[=eb,
=nc=functwyg-text-apty()|re[be=c["===Object.prototype.toString.call(b)hc}}a,cthis._s=eae)ild(i),jn functiogI(
or n(){g.reobject At,tchtElementsByd(rHTd.maeTextnclosedTis._(bdiv></div>";a=a.in1}},vctio.Dispatcher=B}else b.parentNopty()|re[be=ay:fun.vctioent("U"===c.nodeesSec,gI(
or n(){g.=a.ftElementsByd(rHTd.maeTextnclosed})})(wbd=true;a.:.'<html>functon c)rHTML=c}catch(gpty()|reabold={snt:nterpolatec(b){return (gpty()|reaf){resInEyneatc.owunct"bunctiis._ction(b[=ec(b){return (gpty()|reaf){resInEyneaiis._wunct"bunctvctio.Dispatche:..body"ute(tch(gouters+deateEle opener frac,opPropaga;k<
jassNerHTML"in a?-1:c"+ +={exDs._}cat{for,p;(gpty()|reaf){resInEyneatc.owunctd,h,/non-ink r'">-dChil/gb.clie3HTMc?tnction(){vd+a&&ahv"nspeh=jif(!b.browhr.cranspeps:con=jter_nuWrapped"wysiwyg-f//i;ret,opnr",f);f()}})(wp,g[p){retn;1=u=fun+puobp;</p>"==b)a.i(nlass!!naeTextNode(b));a*et,pnc,u.op||pxOf(,b1ng})})(w1i:B])!funp.isEmx;</p>"==b)a.i(nocrtent||n(){vas(s)ie("b||a.los+("b|bsmanoq:;b.d=B;h+})}){varenanoq:;b.d=B;h+erDocuntLisid!b.b)m;co=jdom,B;h+})}){varek)}
=funcctioA"me||a;e.apppty()|rea("b||a)retu{snt:nterpolate">#{dTML"iea);"texeis._wi=a.fh?ao=jdom,B;h+snt:fuleurn-H,gun(pod/.test(adren=functhevents[d=neat"==f;b<a;b;for=h[be=c[eunset(h,e[k]);thisc_unse.outer"ray="}retuobp;</p>"==b)a.i(c)= u=c.paredeType!==wysihtml5.EL)&&!d?edeName&&"UL"!=mentray="tru"ion(b){;reb
etion(){vactog.chifunction(c,a,d){d=(?d:{){varHTMcd(a,bMctiis._ction(b[=eatu(areturn (gpty()|reaf){resInEyneaiis._wholdoA"nctvctio.Dispatche:.(gouterHTdody"ute(tch(gouters+deateEleme
;j=/tml5.TEXT_NODE&&""++))\-]iwg;(gpty()|reaf)errezeu{snt:nterpolate">5Tags(a))d=a.cpty()|reaf){resInEyneatc.ow">5Ta={lefthtml5.TEXT_NODE&&""b+"=cMctiis._ction(b[=eat5Tags(a))d=a.cpty()|reaf){resInEyneaiis._who5Ta={lefthtml5.TEXT_NODE&&""b+"=cMctvctio.Dispatche:..body"ute(tch(gouters+deateEleme
;j=/tml5.TEXf(torc++))+iwg;(gpty()|reaf)rctitoru{snt:nterpolate">5Tags(a))d=a.cpty()|reaf){resInEyneatc.ow">5Ta={lefthtml5.TEXf(torcb+"=cMctiis._ction(b[=eat5Tags(a))d=a.cpty()|reaf){resInEyneaiis._who5Ta={lefthtml5.TEXf(torcb+"=cMctvctio.Dispatche:..body"ute(tch(gouters+deateEle opener fraserve("a=te","open","close){func
or nown"=b.dbr");a.appe!mand:function()=ion().ch(ewy(),ate","open","close)(gouterHTLif(turn aeaerve("a=teault=c.prev){func
or nown"=b.dbr");a.appe!mand:function()=ion().ch(ewy(),ateault=c.prev)(gouterHTLif(turn deale"],&coInt(b.gois(s){var||{variie"Figl?oinow,bheight&a0])};el?oisfuncn1}nction() eseat"===a?=eae)ct=forgbn(){c.pact"DOMntLiIaDocutf-8utes,o=g.classesa}ad=a;if(!c;};
or nown"=b.dom;baze-l  rbi(cigl?oinow,bheight&a0])};el?ois,ariEyne;el?
c)|www\.)[^6)odeVandow.docuhtml5.dotogmtlt(g)?cd+='<acinnedec.stfeName()&("P"===a.f}#{dTMbo=jdom,B;h+})eEvem){t(de);redom,B;h+}brrem(hde)i"},a=/\(d)= =typeoeme()},ntifier=a++))E")&nctio"in a?-1!sumentElee{ffme()},ntifier=a++))E" unctio"in a?-1!sumentEleme;(f=.:TION;this)me()},ntifier=a++))E")&nctio"in a?-1!sumentElee{fbo=jdom,B;h+})eEvell:a.geth,e[k]&&v&n i="is)ittribute(b)}h P BLOCKQUOTE ctiopeof a?b===a.cpty()|reaf){resBariiu{snt:nterpolate(a){for,plassesqthe<
jar);"texeis._w(a){for,pl,m,j.push(a);for(o=b.lenj?jthTagName=func:jent(r)ho=jdom,B;h+snt:fuleurn-H,gunSEdita(pod/.test(ap.isr&&();
wysi=rndChild(d);return dm{var ;"},a=/!!mand:function(r===typeof s.ch(ewy,a,!5e&&rier=a++))for(j||{ctio)s{"},a=/r, c={},a=1;b.dom.hah=ygen)};eee{fh&&!d(h)E")&nctio"in a?alue=false};cforage globalStorage tsCli&&!dsidE")&nctio"in a?alue=false};cforage globalStorage te{fg"ion(b){;reb
etion(){var);a=a.ie:"+feName&&"UL"!=mrloctiotogm.dom{a,!funcforif("t.prototype.iif(D)Gmargij=)rn m=ho=jdom,B;h+c}}();
(function(b
rigl?oit(h,e[k]);thism_unse.outeri}(func=jdom,B;h+snt:fuleurn-H,gunSEdita(pod/.test(aj.isr=+feName&&"UL"!=mrljr ;a[bnlassesa},t("li");a.ap?(("li");a.appendChild(d);return dm{var,Vandow.docuhtml5.n):("li");a.appnon c(goutenhcpty()|reaht",cenek)?e(qa){f||{ctio,n):sr=qorage globalStoj||{ctio),n.isr&&();
wysi=nanfw(ar)u,,e=is._ction(b[=eatbat"===a?className:"class"};wyscthTagName=func:c1ihtm0)<a,(l&&v&(a.gete]ode);retu(goutergl?oit(h,e[k]);this._unse.outerc,set_placehd,return{from:on(btvctio.Dispatche:..body"ute(tch(gouters+deateEle opener frac,f,opPropaga;or(t itml5.E[i]TML"iea)d!b.bq:;b.d=B;h+tgra.wer){r,j.ssFl,c=j?[c>"!==a.outerHTMj=a.firstChild,a:[c>"!==a.outerHT];h[i]f={exkac,f,otion(L"in a?d[i]eck_attrfuncng:"bu,em:"i",bctiono(c.qi:"em"var {};(gpty()|reaf){resInEyneu{snt:nterpolate">#{dSPd.;fortm0)<a,(l&&v&(ah]e.r-m;rSet(ML"in a!1"c(dSPd.;.tog;b.Selecment("=jdom,B;h+})}r n(){gs;s,)]}}is._ction(b[=edBACKSPd.ate&&(d=!0<
jak.ssg]||gerpolatrtBefore(b,c.nextSibling)(f,oppe!martBefore(b,c.nextSibling)(f,k)||i&&
!martBefore(b,c.nextS.length;f<f,i)ML"in a!1"d=!0)}c=!0===d}re
or nown"],&co!d?!1:c(KSPd.alir.wer){dTo
or nsd(btvctio.Dispatche:..body"ute(tch(gorHTML=c}catch(gpty()|reanwidthdocuu{snt:nterpolatebnctionbcpty()|reaht",ceneisfb{e]oqt(g)?cd+='<aainnede:bq:;b.d=B;h+erDocutChild)]}}is._ction(b[=e>";a=a.in1}tvctio.Dispatche:..body"ute(tch(gouters+deateEle(gpty()|reanwidthImageu{snt:nterpolateunction(d){hifunction(c,a,d){d=(?d:{;f=aHTMea;k<
jaa);"texeis._wc)= ent("Uco=jdom,B;h+})}wn"],&:em=c[atk"!==b.get,dd.onreadystatec,{on:function;b.parentNode.(d)="dentidier=a++))E"!dsetRangeTML"i(co=jdom,B;h+})}){varedrgumnctio"in a?-1!sumentEled)t,em){}d.body"ute-cet=d&&!g.a.dom{rn nrage globalStor])};v"nspet(e))d)ac?[c]m=w.oq:;b.d=B;h+erDocuntLisahis.getWindoerTerobobas,d){ameCpush){varImg()?(d=ee("b||a.los+("b||a.los+("b||a.los+,oq:;b.d=B;h+erDocuntLisdrg
co=jdom,B;h+})}){varedrc:co=jdom,B;h+})}){vareau,,e=is._ction(b[=e=nc=funcerpolatrtBefore(b,c.nextSibling)(;k<
jar])};vML"in a!1"ctio0)<a,(l&&v&(a.gete]ode);returpolaML"in a!1"=eat-4).tompt openDataL"in a?-1nt("d
or nown!"=.dom;baze-l  r;L"in a!1"ctio0)<a,(l&&v&(a.loseturpobsmand:function(){vch(ewyML"in a!1"ctio0)<a,(l&&v&(aNode.(.dom;baze-l  rubion(b[=eale"],&cot-4).tompt openDatn c(goute 1
n;iface(a,fu1:c[0]},vctio.Dispatcher=B]}}(),siz;"texeis._wbw=w.ma;f=.body"ute(tch(gouters+deateEleme
;j="<br>"+(s.getWindoneedsSprn ){varm){this(b()?ml5:"==a.cpty()|reaerDocum){this(bu{snt:nterpolate">5ename_t()|reaht",cened)?(("e]oqt(g)?cd+='<adinnerHe:d,b"string"===tyS"),i&sToCpusha)d.("=jdom,B;h+}"),i&:0,mectowyM:ame_t()|reatc.ownerDocus){va=cMctiis._ction(b[=e>";a=a.in1}tvctio.Dispatche:..body"ute(tch(gouters+deateEle(gpty()|reanwidthOeetsedplit({snt:nterpolatec(b){wysihtml<
jaetio0)<a,(l&&v&(a.gete]ode);ret=(c.cwysihtml5.dom.getSty(e_unse.outer"OL"}regc.cwysihtml5.dom.getSty(e_unse.outer"UL"}reesNerHTML"in a?-1:c"+(={exDs._call("tr,et=i;ccpty()|reaht",ceneisfdqt(g)?cd+='<aainnerHe:d:f?cc=jdom,B;h+snt:fuleurn-H,gunSEdita(pod/.test(a{on:funcDB".splitemen):g?cc=jdom,B;h+snt:fuleurn-H,gunSEdita(pod/.test(a{on:funcame&&"UL"!=mg,"ol"tog.ccme_t()|reatc.ownf){resBarii",cat(A,en)};ateTextNode(b));a&&a.a,
dnc,u.oit=)}catgra||it=)}catgranOf(,b1ng})})(w1i:B])cc=jdom,B;h+snt:fuleurn-H,gunSEdita(pod/.test(a(c.cwysi(D)vdthToplitei,"ol"tog,dbico=jdom,B;h+})eEvell:a.fteTextNode(b));ali;vMnctiis._ction(b[=ecb.setTe)<a,(l&&v&(a.gete]ode);retu(gouter.cwysihtml5.dom.getSty(c_unse.outer"OL"}r}tvctio.Dispatche:..body"ute(tch(gouters+deateEle(gpty()|reanwidthUnoeetsedplit({snt:nterpolatec(b){wysihtml<
jaetio0)<a,(l&&v&(a.gete]ode);ret=(c.cwysihtml5.dom.getSty(e_unse.outer"UL"}regc.cwysihtml5.dom.getSty(e_unse.outer"OL"}reesNerHTML"in a?-1:c"+(={exDs._call("tr,et=i;ccpty()|reaht",ceneisfdqt(g)?cd+='<aainnerHe:d:f?cc=jdom,B;h+snt:fuleurn-H,gunSEdita(pod/.test(a{on:funcDB".splitemen):g?cc=jdom,B;h+snt:fuleurn-H,gunSEdita(pod/.test(a{on:funcame&&"UL"!=mg,"ul"tog.ccme_t()|reatc.ownf){resBarii",cat(A,en)};ateTextNode(b));a&&a.a,
dnc,u.oit=)}catgra||it=)}catgranOf(,b1ng})})(w1i:B])cc=jdom,B;h+snt:fuleurn-H,gunSEdita(pod/.test(a(c.cwysi(D)vdthToplitei,"ul"tog,dbico=jdom,B;h+})eEvell:a.fteTextNode(b));ali;vMnctiis._ction(b[=ecb.setTe)<a,(l&&v&(a.gete]ode);retu(gouter.cwysihtml5.dom.getSty(c_unse.outer"UL"}r}tvctio.Dispatche:..body"ute(tch(goters+deateEle(gpty()|rean,_e?c={snt:nterpolatec(b){return (gpty()|reaf){resInEyneatc.owunct"iunctiis._ction(b[=ec(b){return (gpty()|reaf){resInEyneaiis._wunct"iunctvctio.Dispatche:..body"ute(tch(gouters+deateEleme
;j=/tml5.TEXurn a[(""+b++))+iwg;(gpty()|rea).charACe+=";u{snt:nterpolate"){return (gpty()|reaf){resBariiatc.ow">nf){resBarii",rHe:,wyg-font-size-larger"};returcMctiis._ction(b[=ea){return (gpty()|reaf){resBariiaiis._whonf){resBarii",rHe:,wyg-font-size-larger"};returcMctvctio.Dispatche:..body"ute(tch(gouters+deateEleme
;j=/tml5.TEXurn a[(""+b++))+iwg;(gpty()|rea).charA&)B(={snt:nterpolate"){return (gpty()|reaf){resBariiatc.ow">nf){resBarii",rHe:,wyg-font-size-largerrDocumcMctiis._ction(b[=ea){return (gpty()|reaf){resBariiaiis._whonf){resBarii",rHe:,wyg-font-size-largerrDocumcMctvctio.Dispatche:..body"ute(tch(gouters+deateEleme
;j=/tml5.TEXurn a[(""+b++))+iwg;(gpty()|rea).charARteDo={snt:nterpolate"){return (gpty()|reaf){resBariiatc.ow">nf){resBarii",rHe:,wyg-font-size-largerler","+"Mctiis._ction(b[=ea){return (gpty()|reaf){resBariiaiis._whonf){resBarii",rHe:,wyg-font-size-largerler","+"Mctvctio.Dispatche:..body"ute(tch(goters+deateEle(gpty()|rea a={rEyneu{snt:nterpolatec(b){return (gpty()|reaf){resInEyneatc.owunct"uunctiis._ction(b[=ec(b){return (gpty()|reaf){resInEyneaiis._wunct"uunctvctio.Dispatche:..body"ute(tch(gouters+deateEleme
;j=eholdewidsNerHTML"in au f="wyg-fonterHTML"in a?-1:on(b[=eatu(ah?,erCerHTML:eturn ,a=eholdewidsNerHTML"in ased="wyg-fonterHTML"in a?-1:on(b[=eatu(ah?,erCerHTML:eturn ,d||a;e.appU f=Manag"cobynd:fuDietureturturn h?wysihtml5.,e!="None"){var ,center:"wysiwycomplete&&"comy:comar n(){g.ct=d&&!g(gI(
or n(){g.ct=d&&!g(){g.c{g."wyyr[ctionr n(){g.cgue})})(w)wsgI(
o(){ie"){=1wycomplete&&"ccpty()|reaht",cenenerDocus){va=w.");d._n(){c.pad})cn(){c.pont-size-xx-large=etNa\:i n(){lete&&"cc._getHtd);iind]ri[cea,
gb,c)(){c.pa){g.ct=d&&!g)}caPropagation=c.stpen closa.al;retur!my:trlret|b.remetaret);r&&w.pushtener(e,c=9};el;ifaNode);retur89;el;;9};el;if!aNode);ret?(e.u f=(n,atha,b){v.derel="st:t.isEmsed=(n,atha,b){v.derel="ston c,c)(){c.pa){g.ct=d&&!g)}caPropagation=c.stpenaushtener(e;a!==gsc]||a,(8tomp||46tompdE")&lesheac="stoturpos.getWindoerTU f=Ina));urnMenury{a[c]=i,h,ka.getAttributren=func;a=fteTextNode(b));a&erHTML"in a?-1:"y(),adyState)){d.onreadystatec;ent=fI;retvctd(a)c,c)(){c.pa){g.ct=d&&!g)}c));urn&&!u"function(){a.k( vtilete&&"cc.jdom,B;h+snt:fuleurn-H,gunSEdita(pod/.test(arentNb:comTION;thisE")&&ete&&"cc.jdom,B;h+})}){varerentNb:comTION;thisppe.t(g)?cd+='<a)}rDocus){va=nnectpe.t(g)?cd+='<a)}rDocus){va=nneatpe.t(g)?cd+='<a)u f="innerHe:d=is.c})}I;retvctd.getAttributixedContentWarniNerHTML"in ased=")?(kb)hcmsed=(nd:fixedContentWarniNerHTML"in au f="{&16kb)hcmu f=(nd})400);h&16h=!0,,c)(){c.pa,function"mouseropagak),,c)(){c.paf,["mouseropaga||b,d={vartDefa|a.p"]ak)wysition(br:"wyfment||doc={ewoeet,e="string
pod/.test(arelesheac="s}cument||doculse};pty()|rt,e="strin,pod/.test(arelesheac="s}c},lesheac=ont-size-xx-large"([^\:{g."wyy[gI(
o(){ie"){var,b=ctionr n(){g.cgue})})(w)urpos!=pen cl40<(([^\:{g."wyyface(a,=gI(
o(){ie"){))([^\:{g."wyyfunctio),;"tex(){ie"){v-sgI(
o(){ie"){++(){g.c{g."wyyn(c){rba}},u f=adIframe(d)};d.onlesheac="s;1>=gI(
o(){ie"){&16ltbng})}(([^\:{g."wyy[--gI(
o(){ie"){var),;"texbr:"wyfig=docu f=a,e="strin=c},sed=adIframe(d)};d.on(){ie"){>=([^\:{g."wyyface(a,&16ltbng})}(([^\:{g."wyy[++gI(
o(){ie"){v
ar),;"texbr:"wyfig=docsed=a,e="strin=c},ar a in b)"flo-sandboxete&&"cc.je})})(wa)rtion(br:"wyfi;?iBmion(,"in document.:b&b.parentNoviews.ectoc);return h?wysihtml5.,e!="None"){vb,c(b){gI(
o(yStatsbwycompt=d&&!g(crity:"restriciwycompcn(){c.pectoChl;a._H})cn(){c.pectoChl;a.ont-size-xx-largb=ctio;gI(
o(yStatument||doculse};urn n,pod/.test(abo(yStatument||docunset(_viewn,pod/.testcb.seOf(,n(d)?6)}(yStatucurStatectocbd]xehowemov,a"tr,atAttribute(b()b"w;?iBmefh.we:bqhid:"wysitentrn futribute(b()a[b].delntNb:comne=a.ind]ri[ceeTextNode(b));a:trn f")!si).by(t=d&&!g..removeAlntNb:comw;?iBmeftrue;ab:..b,hid:adIframe(d)};d.onntNb:comnerTe.ight&a0=
"none"},ah(){d.onreadystatechntNb:comnerTe.ight&a0=|,fhighedsSction(b[=estatechntNb:comnht:"wysiwyg-fighedsSd",cathedsSd"&c.snedsSction(b[=estatechntNb:comWrapped"wysiwyg-fathedsSd"&cn c)rHTML=c}catch){if(l&&v&n a.s.getWindappviews.Cete&&"cobyviews.ectoturn h?wynuter"ra="strin,CARET_HACK:"<br>",);d.className="wysihtmlbl5-sandboErrotmlbl5-wycomptentySte"([^\:(yStatutentyStewycompc-rigction(amefhent=fction(b[=estatechntNb:com=)}catgrana.ight&a0sCpushIn;b.pa==b)a.iEr:"edsStext-align-all:atechCARET_HACKlectiVctio.Dispatche}}})})(wympty()=[rn a.nall:"wumentFragment();b.firstChil).by(t=d&&!g.{var c"([^\:(yStatupunctec)ion()=retcsmand:function(c{var b={fo|a.los+("b||a.los+ribut"c},ar Vctio.Dispatche},
Ele(odeV").by((yStatupunctement;"texntNb:com=)}catgrana},ah(){d.onreadystatechf.contmnerTe.ight&a0=ycompcight&a0now,bfontt;"texathedsSht",centenedsShtb,hid:adIframe(d)};d.oncight&a0now,b;el?oinow,bheight&a0])};el?oatechf.cont);"none"===ycompcight&a0now,bode;d.oncight&a0now,b;|documatechf.contmnerTe.ight&a0="none"},ighedsSction(b[=estatechntNb:comWrapped"wysiwyg-f/=b)a.iEr:"edsS"umatechErrot&c.snedsSction(b[=estatechntNb:comnht:"wysiwyg-f/=b)a.iEr:"edsS",.confiumatechErrot&c.trn futribute(baarate(a)},_udoesAsyncF;?iBme&&[h]e.rerText}):(b.setTextCoity:"rnt=funcatechErrot&;)})(wympty(ntNb:comTION;this{vart.is()},ntict openDat?;"texe eEveB;h+})}wn"],&:mpty(ntNb:comTION;thisu:h]e.r.jdom,B;h+})}){varempty(ntNb:comTION;thisu)lectiTg-f==b)a.i.Dispatche:.(goutercbp;</p>"==b)a.i().by(t=d&&!g.b,hrText}):(b.setTeipt:'<html></html>'");d.p;</p>"==b)a.i(ysi).by(tentySte(ntNb:comght:"wysiwyg-fb.getTextConten)=[rn aont-size-xx-large"([^\:ntNb:com=)}catgradocument"tomp||a===ycompCARET_HACKr(h]e.rerText}):(b.setTextfont===ycompp;</p>"==b)a.i(y&&
!([^\:ntNb:comeTextNode(b));avariiquote, ul, ol, img, embed, onctio, "edsS,:functi, svg, vid:o, audio, iwyton,:fnpuo, .jdom,, "entySte"d})c-rigction(aont-size-xx-large"([^\t;"texeeateEle={exc</body><ttribute(b()ah:0,heigt&c.{ar c=a.stylesheets,d="",e=0,k;if(c="statechf.cont=;"texeeateEl.te/.test(d.rlargb=exobserve("b||alobalStorfnpuo==a.ction""hiddenml({nocumeerHTML"in _may="appv/p><p1;e&&(d=).by(tentySte(ntNb:co((b.8;f),1atechf.cont).a{varef+((b.8;f),1b).a{varef+ins(c.docont-size-xx-largd"([^\t;"texall(
;"texeeateEl.te/ind]ri[cea(){g.ct=d&&!g(gI(
od.matBl^wycomptentySte"([^\:(yStatutentyStewycompntNb:com=)}catgran).by(tentySte(gue})})(wion",centenedsSht;h]e.r.jdom,B;he={exppendChild((([^\:(yStat sgI(
orcd+='<sc={expp?cd+='<s(([^\:(yStat scme_py:c.characte"set_place spellcheck title nd:f dirgeccessKeyopeof a?b===)};el?oatechtentySte(ntNb:co;.tol).by(t=d&&!g.{ctesrText"i){g.ct=d&&!g)sheets,d="",ra="stri.length;f);sheets,d="",e=0,kmtltbng}ow,bh);sheetn(){c.pad;h< c="d(rHTs,d="",nocuy()&&ctesrText"i){g.ct=d&&!g)
e+,oqesrText"i){g.cfuncti,n(b,((e){if(e.keyCode===bd(rHTs,d="",b.getTextCo?d(rHTs,d="",b.getTextCo:).by(tentySte(ntNb:comght:"wysiwyg-fb.getTextCont)bico=innerText=b},b.get(([^\:(yStat)shee,e sgI(
orcd+='<satc.own}ow,bextS.SS"inn)wycompc-rigAType!=='">()wycompc-rigClass(Resiz'">()wycompc-rigU f=Manag"cetur).by(tentySte(ntNb:comerT:"wysiwyg-f==tytrn f")n",functioeeTextNode(b));a:trn f")si).by(tentySte(ntNb:co)"tr,a"tr,atAttribute(b()d"w;?iBmefh100);n
)for(t in m)if(s=eaturjr.su[dvr).by);ntent=fs==b)a.iEr:"edsStext-align-||
leSMENT_NODE&&(a=a.parentNoder).by);ntent=fsreturIna));u.iEr:"edsStext-align-||leSMENT_NODE&&(a=a.parentNode);returr).by);){g.cfrigcyncCoity:"r,d="",eyncCoity:"frigcync(-wycomptentySteqhid:"w;gI(
o(yStatuig=doculse};urn n)uig=docurn n)})c-rigAType!=='">ont-size-xx-largd"([^\hc}};canDghedsSAType!=='">(),foleanesAType!=='">Ina));u.iEr:"edsS(eoemegI(
orcd+='<satc.own==tyUrlDettioninn)wa[b].delr,d="",eType!==){(!br("cti"w.");d.(yStatument||doc={ewoeet,e="stringtribute(b()d"=jdom,B;h+snt:fuleurn-H,gun(pod/.test},
Elec,eType!==(gtk"!==b.getSysit;h,e[k]);thxeeateEl.te/ind]ri[ceaixedContentsB=c.lengtwn="n)};edeType!==wysihtml5.ELe","ion=c.stpenaumand:function(cpp;</p>"==b)a.i(men.ch(ewy,"www..tompt|www\.)[^4)odeV""http://5.a))(gouterHTtedHTML=fun){g.ct=d&&!g)}caPropagation=c.stpen clg a={1:f"elarge"!0)}c=!0===d}return c?
a.srcad=a;if(one=a.ind]ri[cd,=b.unset(h,e[k]);this._unse.outer"A"Docu,enbut((e;ab:ov,a"tr,atAttribute(b()=functhment(!==eifaNm(c.noiew.ma;ht:"wysiwyg-f){va"rra}h.weylesh,c-rigClass(Resiz'">ont-size-xx-largd"
["lace"",.(k);h."]i&&"oClosesAt"([^\:ntNb:cosgI(
orcd+='<satc.ownenedsSClass(Resiz'">")sheets,d="",allowClass(Resiz'">);sheets,d="",allowClass(Resiz'">?ao=t",centEvlStorresize h?")bico)(){c.paf,rresize h?"ation=c.stpendren=functad=a;if(d.("=rck]);thi,wysihtml5d.appk;h<e.se==k=d[h],c[k]odeValue:"wysiwyg-k,punctIty(cter_1.we,c[k]="==a.c){}d.body"ute-men):ao=t",centEvlStorresize if(t")bico)(){c.paf,rresize if(t"ation=c.stpenatha,b){v.derel="s})})c-rigU f=Manag"cont-size-xx-={exppU f=Manag"ce([^\:(yStat ,,"in document.:b&&this.addRach){if(l&&v&n a.,functiond=a;if(t,e"!==c.nodeName;){vat(A),fo".defgrem(hXf(tor f(tor fursor T_NODfamily T_NODE&&" T_NODEtml5 T_NOD){iiant T_NODwk);h. Eyne-hk);h. Ed){va-spac'"> size-large size-decora.add size-catcnt size-Staget'"> woee-sDom=fwoee-wrapfwoee-spac'">ction(}obsmango".defgrem(hXf(tor boeets-f(tltene boeets-boytomXf(tor boeets-boytomXEtml5 boeets-boytomXlace" boeets-rDocXf(tor boeets-rDocXEtml5 boeets-rDocXlace" boeets-ler",Xf(tor boeets-ler",XEtml5 boeets-ler",Xlace" boeets-topXf(tor boeets-topXEtml5 boeets-topXlace" ent=f ight&a0 (a){r ma;iin-boytom ma;iin-rDoc ma;iin-ler", ma;iin-top atAEyne-f(tor atAEyne-nmmand atAEyne-lace" atAEyne-Etml5 pesr'">-rDoc pesr'">-ler", pesr'">-top pesr'">-boytom (){ie"){ top rDoc ler", boytom z-catcx vdthical-large size-large Dwkbkit-box-siz'"> -moz-box-siz'"> -ms-box-siz'"> box-siz'"> -wkbkit-box-shaf(t -moz-box-shaf(t -ms-box-shaf(t box-shaf(t -wkbkit-boeets-topXler",Xradius -moz-boeets-ladius-topler", boeets-topXler",Xradius -wkbkit-boeets-boytomXler",Xradius -moz-boeets-ladius-boytomler", boeets-boytomXler",Xradius -wkbkit-boeets-boytomXrDocXradius -moz-boeets-ladius-boytomrDoc boeets-boytomXrDocXradius -wkbkit-boeets-topXrDocXradius -moz-boeets-ladius-toprDoc boeets-topXrDocXradius lace" (k);h."tion(}obsman
i="lace" (k);h. top rDoc ler", boytom"tion(}obsmanh=["ment             { (k);h.: 100%; }",.tBl^             { min-(k);h.: 100%; pesr'">: 0; ma;iin: 0; ma;iin-top: -1px; pesr'">-top: 1px; }",.&erHTML"in a?-1: { ight&a0: none; }", rel="stylesGecko?.tBl^,b.getTextCo { f(tor: graysize !im,cenant; }":.tBl^,b.getTextCo { f(tor: #a9a9a9 !im,cenant; }",.tBl^[athedsSd]   { .defgrem(hXf(tor: #eee !im,cenant; f(tor: #999 !im,cenant; fursor: uerySel !im,cenant; }",.img:-moz-broken  { -moz-drece-broken-image-is,d: 1; (k);h.: 24px; lace": 24px; }"]i
ka.getAttriben clma;ht:tAtve+.remtChht:tAtvemeftrue;a a=c.dom{e&&(d=bihtml5d.alean"for(i in a){" "),i&cL"||we,e))bxt:funcL"ngolean"for(i in a){" "),i&&)B(||we,e))bxt:fun&)B(lf={(){ie"){:fo(){ie"){,top:f.top,rDoc:fry{B(lWkbkitUssetTrn c:frWkbkitUssetTrn c}.oq:;inow,bs({(){ie"){:"absolud={vtop:"-99999px",rDoc:"-99999px",WkbkitUssetTrn c:"none"}).tribe;b"w;?iBmentq:;inow,bs(f).tribe;dbxt:funcLw.d;xt:funcL(g,hu,,;bqviews.Cete&&"c&"functionihtml5n b!==a&&b.contaj"([^\hnoleeTextNode(b));a:trn f"),pi).by(tentySte(ntNb:co,
q=pmerT:"wysiwyg-fb.getTextCont,r=q&&pmght:"wysiwyg-fb.getTextCont;sheettrn fnow,bsHosg(gI(
otrn fnow,bsHosg||ea&("onwebkitsppatechElurnow,bsHosg(gI(
oElurnow,bsHosg||ea&("onwebkitsppq&&pmWrapped"wysiwyg-fb.getTextCont;pxOfn&&pmElur( scme_pynow,bs(g)};el?op;.tol).by(f.cont).adeTy(gI(
oElurnow,bsHosg scme_pynow,bs(f)};el?op;.tol).by(ntNb:co;.adeTy(gI(
oElurnow,bsHosg scmin m)iCSS(.alintol).by(ntNb:coone=a.ind]ri[cd;kop;scme_pynow,bs(g)};el?op;.tol).by(trn fnow,bsHosg scme_pynow,bs(f)};el?op;.tol).by(trn fnow,bsHosg s
=funm="t.prototype.g)}withatAt[eight&a0]]);n?n"w;?iBme:pmElur( sq&&pmsht:"wysiwyg-fb.getTextCon,rm;rSet(.getWindoerTCurStatnow,ba=a.pa a.n)ct=fs==c.sSelecto,rresizengtribute(b()a,!r (D)Gmargi,functioean"for(i in a){,j(f.cont)t"))c],dit?oinow,bheight&a0])};el?opd,=b.unsenow,bheight&a0])};el?oj(f.cont);pmnerTe.ight&a0=|,;jhf.contmnerTe.ight&a0="none"scme_pynow,bs(i)};el?op;.tolj(f.cont).adeTy(j(trn fnow,bsHosg .adeTy(j(Elurnow,bsHosg sjhf.contmnerTe.ight&a0=b;pmnerTe.ight&a0=a;a=a.iseName()&w;gI(
o(yStatument||doctrn fu,e="string
pod/.test(acme_pynow,bs(m)};el?oj(trn fnow,bsHosg .tolj(f.cont)scme_pynow,bs(f)};el?oj(trn fnow,bsHosg .tolj(t=d&&!g.bw;gI(
o(yStatument||docElurt,e="stringtribute(b()cme_pynow,bs(m)};el?oj(Elurnow,bsHosg .tolj(f.cont)scme_pynow,bs(f)};el?oj(Elurnow,bsHosg .tolj(t=d&&!g.bw;/html>'");dTd.matBli."+1!=a.otuvvion(a,c){if(l&&v&n a.(.getWindar {66:.tBl?"a73:)},_e?c.i85:" a={rEyne",;bqviews.Cete&&"c&"functioniment||dn b!==a&&b.contae=etNa\:i n(){gue})})(w),k]);thxeeateEl.te/.test(d.,i"([^\:ntNb:cod.ale=t",centEvlStsIn.test(text-align-ai:);thxeeateEl.te/ar f=((d!b.ao=t",centEvlStord=a.")?[rd=a."a||b,d={]:[rd=agd=a."a||b,d={]tedHTML=fungt"DOMntLin{!sue n,pod/.test(aent=fI;retvctdj)vtinctio"uig=docdeionoya,e="strin=it;h,e[jc})}I;retvctd.getAttribur (D)Gmargi,functioean"for(i in a){,g{&16ent=fI;retvctdj),
tinctio"uig=docdeionoya,e="strin=)},250)tedHTML=funh,ctrn fn,pod/.test(arenctio"uig=doctrn f")uig=doctrn ft,e="strin=sr,a"tr,atAttribute(b();uobp;<})})(w)fh.wr)tedHTML=funh,cElurn,pod/.test(af!==ebp;<})})(w)E")&nctio"uig=docunset(")uig=docunset(t,e="strin=s)&nctio"uig=docElurn)uig=docElura,e="strin=it; rel="stylesIoBme&&edHTML=funi,cElurn,pod/.test(a))c],dione=a.ind]ri[ce("b||alobalStorfnpuo==,b=exobservean"for(i in a){" "),i&cL"||exobserve,e))bxt:funcL"nc=exobservean"for(i in a){" "),i&&)B(||exobserve,e))bxt:fun&)B(;
.remeq:;b.d=B;h+erDocuntLisah=true;a.:.itmionStorage ts}a"w;?iBmen,adyState)){d.onreadystatec;a;if(thxt:funcL(o,b&c)tedHTML=funi,cd=age;returpod/.test(arenctio"uig=docurDot_b.getTextConteen,aig=dsOnD=a.OnlyWhenOnD=agOverIsCancelsSdme&&edHTML=funi,[rd=agrear",cd=age;retu]ation=c.stpenatha,b){v.derel="s})tedHTML=funi,k,otuvvion(a,c){if(l&&vataTeshefndarnt.iao=t",centDataTeshefnd((a,(.b.unseData("tent/i."+")d.elnseData("tent/b.ginar ;d?(i"w;?iBme,eme_t()|reatc.ownerDocus){va=de,emnctio"uig=doc|b,d={)uig=doc|b,d=a,e="strin=,
beNamea=a.aga.test(, rha,b){v.derel="st:r,a"tr,atAttribute(b()emnctio"uig=doc|b,d={)uig=doc|b,d=a,e="strin=fh.wr)tedHTML=funi)}caPupgation=c.stpenaushtener(e;(aeOf(,a.los_KEY||a===b.ENTER_KEY)E")&nctio"uig=doc={ewoeet,e="strin.bw;gI(
o(yStatument||doc|b,d=a,e="strinrpod/.test(ar,a"tr,atAttribute(b()emnctio"uig=doc={ewoeet,e="strin.bh.wr)t};canNode(bImagerIna));u.iEr:"edsSa)d.elHTML=funi)}mouseropagaDispatche}}})})(btad=a;if(;t-4).tombier=a++))E"(e.=jdom,B;h+})eEvell:a.bn,atha,b){v.derel="sto)tedHTML=funi)
}caPropagation=c.stpenlargb=e[shtener(e],a,!cmy:trlret||wemetaret)if!aNal;ret&&b)eme_t()|reatc.owbn,atha,b){v.derel="sr)tedHTML=funi)}caPropagation=c.stpenlargc=e0)}c=!0===d}return c?
a.src!0m=c[attener(e;a,!r&&t-4).tomcier=a++))E"(dtombiBACKa.los_KEY||dtombiDELETs_KEY)nhk<tk"!==b.get,dd.onreadystatc)="dentidier=a++))E"!dsetRangeTML"iumnctio"in a?-1!sumentEled)ov,a"tr,atAttribute(b()b"){}d.body"ute-i.bh.w,atha,b){v.derel="sr)tlargn={-4):"Image: ",A:"e!==: "};elHTML=funi)}mouserear",tion=c.stpenlarg}=
(d=a;if(!bmpt openDat;!("de!el;ift-4).!el;)if!aNerT:"wysiwyg-ftitle")bi(b=n[b]+(amght:"wysiwyg-f){va")d.("ght:"wysiwyg-fsrc");ifmove:"wysiwyg-ftitle",b&s})}ody"ute(tch(gouters+deateEle(gviews.cynchronizerc);return h?wysihtml5.,e!="None"){vb,ationycompbr:"wysbwycomptentySte"iwycomplete&&"codwycompcn(){c.pt&c.tel?Cete&&"cTo.losyStection(b[=ecb.).by(tentySte(.je})})(wmand:function(ycomplete&&"cbp;<})})(w)n.ch(ewy+"Mcttel?.losySteToCete&&"c.Dispatcher=B}elsan).by(tentySte(gue})})(w)t}?ycomplete&&"cb.je})})(watEl:(ycomplete&&"cbrnt=fun,;"texbr:"wyfig=docDot_b.getTextContc},aync.Dispatcher=B""entySte"===ycompbr:"wyfcurStatecto,n(d)?).by(tel?.losySteToCete&&"cer=:).by(tel?Cete&&"cTo.losyStes,)]}
cn(){c.pont-size-xx-largjaa);"te,di).by(tentySte(ntNb:comf){r,dn b!==a&&b.ccc})}I;retvctd.getAttribua(tel?Cete&&"cTo.losyStesd})400)ctt=pod/.test(aent=fI;retvctdcentyfunct;(w)tdemenawysi.sSelecto,rsubmitnrpod/.test(aa,eyncmion(c,{on:fu.sSelecto,rresetnrpod/.test(ar,a"tr,atAttribute(b()a(tel?.losySteToCete&&"ce.bh.wr))rtion(br:"wyfment||docunset(_viewn,pod/.testben clm==="ra="strinif!c()a(tel?.losySteToCete&&"ceconf);(w)sihtml5.lm===""entySte"dua(tel?Cete&&"cTo.losyStesconf);f(&cn ction(br:"wyfment||docdeionoya,e="strin,
fn(,"in document.:b&b.parentNoviews..losySte=b.parentNoviews.ectoturn h?wynuter""entySte",);d.className="wysihtb,c(b){gI(
oErrotb,c(b)wycompcn(){c.pt&c.ent=fction(b[=estatechntNb:comv/p><p|,fhtioVctio.Dispatcher=B)})(wympty()=[rn a.nall:atechntNb:comv/p><nbut(c"([^\:(yStatupunctec)ion()=retc},ar Vctio.Dispatchebl5-scbi(b=([^\:(yStatupunctebent;"texntNb:comv/p><pbb,hrText}):(b.setTeipt:'<html><largb=wyg-text-align-right",centext}):(b.se:"wysiwygOnl).by(ntNb:co;,wympty(ntNb:comght:"wysiwyg-fb.getTextCont||rHe:,e"([^\:ntNb:comv/p><n
return (if!a||a===cen)=[rn aont-size-xx-;a=a.in"===Object.protnction(ycompntNb:comv/p><n.ch(ewyr(h]e.rerText}):(b.setText})cn(){c.pont-size-xx-largb"([^\:ntNb:codc"([^\:(yStat,e"{w;?iBin:ctrn fn,prn fatA:cElurn}=c["===Objectlign-right",centEvlStorw;?iBin")?[rw;?iBin",ctrn fotDefa|nset("]:[rtrn fn,cElurn,a|nset("];elHTML=funculse};urn n,pod/.test(a"===Objectn:fu.sSelect#{dSers+deateEle(=a[.ction]||letion(cfig=tebefig=teb+l:aentySte"d}c;a===Objectn:fu.sSelect#{[||b,d={vad=a."]rpod/.test(ar,a"tr,atAttribute(b()cuig=doc|b,d={)uig=doc|b,d=a"entySte"d})
0wysiten c)rHTML=c}catch){if(l&&v&na.ctoolbar.Dialogobynd:fuDietureturturn h?wysihtml5.,e!="None"){va,bnction(lretuiwycomples.rangepbb,cn(){c.pont-size-xx-rSetycompcn(){c.pd=B}elsan).by=c[HTML=c}catch){if(la._){cielizementy=e(ntNb:coToCnset(?auig=docbr:""+"M:auig=docsave"+"M;eqhid:"w; rha,b){v.derel="s;beNamea=a.aga.test(};elHTML=funa(lreti;foiii",tribute(b()cuerTCt("s,aelreti;rHTML"in ae_t()|r-dialog-opene?")bir,a"tr,atAttribute(b()a(hid:"wyh.wr)tedHTML=funycomples.range)}caPropagation=c.stc.contae=cttener(e;
e===b.ENTER_KEY"iudcene===b.ESCAPE_KEY"ia(hid:"wy);canntNgeigtycomples.range)}[vata-rHTML"in adialog-am,B;hesave]"i;foiii",d);canntNgeigtycomples.range)}[vata-rHTML"in adialog-am,B;hecancel]"i;foiii",HTML=c}catchauig=doccancel"M;eqhid:"w; rha,b){v.derel="s;beNamea=a.aga.test(})e(b)}"},a=/ycomples.rangee3HTMc?tnction(){v"fnpuo, .jdom,, "entySte"d,or(k=0etion(b).d=pod/.test(aent=fI;retvctdalt+=";vct(};mnewf;fordHTML=fune[f]ra|nset(",i)wycompcn(){c.pdmlmob,c){cielize}atch(f)||ildren=functycompntNb:coToCnset(||
{},b=ctionr s.rangee3HTMc?tnction(){v"[vata-rHTML"in adialog-field]manoobynlosesAt"0;mncwf;foa[.[f]mght:"wysiwyg-fvata-rHTML"in adialog-field")]=.[f]mv/p><n));j=
g;j._t+=";pols._ction(b[=ea){dren=funb,c(f=,functioeeTextNode(b));a:trn f"),k]);thxr s.rangee3HTMc?tnction(){v"[vata-rHTML"in adialog-field]mangatlnlosesAh"0;h<i.se==b=g[h],b!elfif!(aifthiddenm===b.tion)ut(c"bmght:"wysiwyg-fvata-rHTML"in adialog-field"),wympty(ntNb:coToCnset(?mpty(ntNb:coToCnset([c]font:&&vderel=Vctio,ppv/p><p"Mctih(){d.onreadya"=te(bbr
([^\hc});thxr s.rangee3HTMc?tnctionv"fnpuo, .jdom,, "entySte"d;mpty(ntNb:coToCnset(ciwycompcn(){c.p()wycompc-r=";pols._(.{var ity:"fr=";vctc})}I;retvctd.getAttribubpc-r=";pols._(ion(,500).{ctesrText"i){g.clreti;rHTML"in ae_t()|r-dialog-opene?")wycomples.rangemnerTe.ight&a0=|,;).by(tg=docsh()n=s=eaeif!a).remeqw;?iBmeftrue;af:..b,hid:adIframe(d)}ent=fI;retvctdity:"fr=";vctd;mpty(ntNb:coToCnset(c0;forc?-1!sumeext"i){g.clreti;rHTML"in ae_t()|r-dialog-opene?")wycomples.rangemnerTe.ight&a0=|none"s).by(tg=dochid:" ,,"in document.:b&&this.addRach){if(l&&v&n a.{(){ie"){:"};uaAtve"var {rDoc:0,ma;iin:0,opac' ao0,overfl(){thiddenm,pesr'">:0,(){ie"){:"absolud={vtop:0,zIatcx:1TMea{fursor:"fnturitnrp)erreze:"50px",(k);h.:"50px",ma;iinTop:"-25px",atAEyne:0,(esr'">:0,(){ie"){:"absolud={vr);h.:"-4px",top:"50%"ctt={"x-wkbkit-speech5:"=,speech:"=}a.ctoolbar.Speech=pod/.testg,i)ML"iea)dxobserve("b||alobalStorfnpuo==arpos.getWindoht",centSpeechApiOnlh)t"))c]k)dxobserve("b||alobalStorat(A);bynd:fuonctio(d).m=(b.({lace":i.nmmandWace"+"px",(k);h.:i.nmmandHk);h.+
"px"}+((b.8;f),1.alintolk+((b.8;f),1kalintolientq:;inow,bs(e).trihentq:;i:c.charactef).trihentq:;inow,bs(d).trikentq:;inow,bs(a).trii)tedHTML=funh,conwkbkitspeech|nset("in h?"wkbkitspeech|nset(":"speech|nset(",tribute(b()g.t(g)?cd+='<a)}rDocu.los",(mv/p><n;hmv/p><p|,f)tedHTML=funh,cfoiii",HTML=c}caa()cuerTCt("s,ii;rHTML"in ae_t()|r-dihedsSd"&"ia(ha,b){v.derel="s;aeNamea=a.aga.test(})sihtml5mnerTe.ight&a0="none"}in document.:b&&this.addRach){if(l&&v&na.ctoolbar.Toolbarc);return h?wysihtml5.,e!="None"){val5-sandboer:"wysiwycomples.rangepassName:"class"};wysdxobservexedContentWarnicc:c1ycomplete&&"comy:comar n(){g.c_xede!==te"s_t()|r")wycomp_xede!==te"am,B;h")wycompcn(){c.pt&;h]e.r.howeme(b)}"},a=/ycomples.rangee3HTMc?tnction(){v"[vata-rHTML"in as_t()|r=}rDocuSpeech]"retuobnlosesAg"0;g<f;ge==={expptoolbar.Speech(([^\hc[g]t})cxede!==tction(b[=ea){dren=funwympty[a+"e!==s"]="t.prototype.ycomples.rangee3HTMc?tnction(){v"[vata-rHTML"in a"+
a+"]==)}ll(b)hc}cynlosesAt"0,k]);th[a+"Mappame:]={},i,h,k{for;mnewf;foik<
f],k=imght:"wysiwyg-fvata-rHTML"in a5.a),j=imght:"wysiwyg-fvata-rHTML"in a5.a+"-v/p><manh=);thxr s.rangee3HTMc?tnctionv"[vata-rHTML"in a"+a+"-gremp='"+k+"']"ren=ycomp_xedDialogni,k),k[kor(t j]={lret:i,gremp:h,nuterktvctio.j,dialog:ntiis._cn1}},_xedDialogction(b[=eatu(ah< ce=etNa\:i n(){les.rangee3HTMc?tnctionv"[vata-rHTML"in adialog='"+c+"']"reg.domsc]||={expptoolbar.Dialogna,freglHTML=funcsh()ngtribute(b()a=)&&ete&&"cc.jdom,B;h+xedBookma;k( v
exbr:"wyfig=docDh(){dialog",{pty()|rt,,dialoghis.range:f,pty()|re!==:a,"ineglHTML=funcsave"+pod/.testben E")&&ete&&"cc.jdom,B;h+})}Bookma;k(i=s)&_t(g)?cd+='<acib=s)&br:"wyfig=docDave{dialog",{pty()|rt,,dialoghis.range:f,pty()|re!==:a,"ineglHTML=funccancel"rpod/.test(arebr:"wyfi;?iBmi1=s)&br:"wyfig=doccancel{dialog",{pty()|rt,,dialoghis.range:f,pty()|re!==:a,"intu(goutergc.snt:?cd+='<="None"){va,bncrSetycompe_t()|reDghedsSd=B)})(wympty(e_t()|rMappame[a+"(t b];:fun.dialogif!caiis._?n.dialogr.howem:
;"tex_t(g)?cd+='<aaiba}},_snt:?cd+='<="None"){va,bnc;"texbr:"wyfi;?iBmi1=sycomplete&&"cbr_t()|reatc.owi=a.f;"tex_upd||a)retTis._Bmefhtc.oAce"){:f.onreadya"=te(bbr;"texbr:"wy;swiue;aa()c;re cunset(_viewn:&&curStatectoc==b.tentySte?buig=docunset(_viewn,"ra="strine:bqig=docunset(_viewn,""entySte"d}b,cn(){c.pont-size-xx-dren=functycom,br;"texbr:"wyhc});thxr s.range\:i n(){let()|re!==hxr stru.ycompam,B;he!==h),k]ftion(b).d=0;inewi;ford:;i:c.characte{){var"javascript:;",urDodom,edsSccon"}).trif[i]T;canntNgeigte,
"[vata-rHTML"in as_t()|r]"i;mouseropagaDispatche}}}atha,b){v.derel="sr)tednntNgeigte,"[vata-rHTML"in as_t()|r]"i;foiii",HTML=c}catch)})(wympty(ght:"wysiwyg-fvata-rHTML"in as_t()|r"),dympty(ght:"wysiwyg-fvata-rHTML"in as_t()|r-v/p><mamtlt(g)?cd+='<acidw; rha,b){v.derel="sr)tednntNgeigte,"[vata-rHTML"in aam,B;h]"i;foiii",HTML=c}catch)})(wympty(ght:"wysiwyg-fvata-rHTML"in aam,B;h")wtlt(g)An=c.stc.; rha,b){v.derel="sr)tbument||doctrn fu,e="stringtribute(b()a(bookma;kc0;forcnt=fI;retvctdalt+=";vct(;alt+=";vct=
})}I;retvctd.getAttribua(_upd||a)retTis._Bmefh500)r)tbument||docElurt,e="stringtribute(b()cnt=fI;retvctdalt+=";vct(})tbument||docdeionoya,e="strin,tribute(b()cnt=fI;retvctdalt+=";vct(})tbument||docunset(_viewn,pod/.testbenr,a"tr,atAttribute(b()a(e_t()|reDghedsSd="ra="strin!el;;a(_upd||a)retTis._Bme;a(e_t()|reDghedsSd?ctesrText"iei;rHTML"in ae_t()|rs-dihedsSd"&:c?-1!sumeext"iei;rHTML"in ae_t()|rs-dihedsSd"&yh.wr)b,cupd||a)retTis._Bont-size-xx-large"([^\:e_t()|rMappame,dympty(am,B;hMappame,eBACKe(b)}e(e))a)rn g=
a[e],ycompe_t()|reDghedsSd?(f=nnec?-1!sumeext"igclreti;rHTML"in ae_t()|r-atAtve"reg.grempfun.-1!sumeext"igcgrempi;rHTML"in ae_t()|r-atAtve"reg.dialogifg.dialogqhid:"w):(:i n(){lete&&"ccpty()|reahis._w",nocueg.v/p><n,bynd:fuonctio(falir.type.)ut(f=1ntifiace(a,ff[0]:!0m=c?-1!sumeext"igclreti;rHTML"in ae_t()|r-dihedsSd"&eg.grempfun.-1!sumeext"igcgrempi;rHTML"in ae_t()|r-dihedsSd"&&eg.his._!elf)(g.his._lf)?&ctesrText"igclreti;rHTML"in ae_t()|r-atAtve"reg.grempfun.esrText"igcgrempi;rHTML"in ae_t()|r-atAtve"re
g.dialogif(function(c,a,d){d=f?g.dialogr.howef):g.dialogqhid:"w)g.ccm-1!sumeext"igclreti;rHTML"in ae_t()|r-atAtve"reg.grempfun.-1!sumeext"igcgrempi;rHTML"in ae_t()|r-atAtve"reg.dialogifg.dialogqhid:"w)e(b)}e(e))d)a=d[e],cunset(_viewntompt +))E"(cthis._=ycompbr:"wyfcurStatecto===ycompbr:"wyf"entySte,aaiis._?n.esrText"iaelreti;rHTML"in aam,B;h-atAtve"r:c?-1!sumeext"iaelreti;rHTML"in aam,B;h-atAtve"rMctih(){d.onready-sandboxes.rangemnerTe.ight&a0=|,b,hid:adIframe(d)};d.onles.rangemnerTe.ight&a0=|none",,"in document.:b&&this.addRach){if(lynutervoid 0,nerTe:!0,toolbarrvoid 0,eType!==:!0,punctrRul_Bo{tagBo{br:{},etur:{},div:{},p:..b,set_p_Bo{.b,punctr:{on:fupunct,ra="stri.length;f:;rHTML"in abr:"wy",,e)).length;f:;rHTML"in aht",cene n,ar c=a.style[],b.getTextCo.losrvoid 0,ellowClass(Resiz'">:!0,ht",cenTouchDevic_Bo!0}a.cEr:"wysbynd:fuDietureturturn h?wysihtml5.,e!="None"){va,db.).by(tentySteContentpassName:"class"};wasdxobservexedContentWarnia):iwycomplestricbynd:fuonctio({}).m=(b.(c).m=(b.(d)}ll(b)wycomplurStatecto=
ycomptentySte"={exppviews..losySte(([^\h).by(tentySteContent)sheets,d="")wycompc-sCeteatidsS=s.getWindoht",cenSdme;rSetycompc-sCeteatidsS||!sheets,d="".ht",cenTouchDevic_Bw.mael="stylesTouchDevic_()(ah< ce=etNasr,a"tr,atAttribute(b()euig=doculse};urn n)uig=docurn n)})0)sihtma{on:fuesrText"iexobserve,e)))sheets,d="",,e)).length;f)wycomplurStatecto=ycomplete&&"co={exppviews.Cete&&"cec[^\h).by(tentySteContent)sheets,d="")w"tribute(keyCode===bd(rHTs,d="",bunctrw.");d._-rigPunctrh);sheetn(){c.paculse};urn n,
dIframe(d)};d.onsynchronizerc={exppviews.cynchronizerec[^\h).by(tentySte,ycomplete&&"c);sheets,d="",toolbarar ity:"toolbar|={expptoolbar.Toolbarec[^\h).by(s,d="",toolbarsto)t.remsihtoTe.logn"Heya! T.by page(es iBing rHTML"in  se} rich "ent br:"ing. Check atA https://githu(gpty/xing/rHTML"in "eftrue;af:..ben)=CeteatidsSipt:'<html></html>'");d.c-sCeteatidsSc.ent=fction(b[=estatechcurStatecto,rnt=func/html>'");dTectiVctio.Dispatche}}}/html>'");d.curStatecto,gje})})(wa)},ar Vctio.Dispatche},bncrSetaML"in a'");d.cnt=func
");d.curStatecto,.je})})(watElc/html>'");dTetrn futribute(baar");d.curStatecto,i;?iBmalc/html>'");dTeighedsSction(b[=estatechcurStatecto,athedsSht"/html>'");dTesnedsSction(b[=estatechcurStatecto,enedsSht;/html>'");dTe)=[rn aont-size-xx-;a=a.i'");d.curStatecto,)=[rn a.nb,hrText}):(b.setTeipt:'<html></html>'");d.curStatecto,erText}):(b.setText})bunct.Dispatche}}})})(wympty(s,d="",bunctr(a,mpty(s,d="",bunctrRul_B,ycomplete&&"cc._getHtd);iind]ri[cea,ion"function(c,a,d){d=aw.ma){}d.body"ute-aion()=retc},
_-rigPunctrction(b[=estatechment||doc|b,d=a,e="strinrpod/.test(alarge"([^\ta&&ete&&"cc.jdom,B;h+snt:fuleurn-H,gun(pod/.test()b"){}d.bocnt=nPb,d=dtChila&&ete&&"cct=d&&!g.{vupunctem&&ete&&"cct=d&&!g.}tion();sheetn(){c.pac|b,d=a"entySte",tion(b[=estatechtentySte(.je})})(w([^\:(ySser).by(tentySte(p;<})})(w)nsiten in document.:b&